(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{Ol2u:function(t,e,a){"use strict";e.a={seasons:["0","1 to 2","Greater than or equal to 3"],percentages:["0-9%","10-19%","20-29%","30-39%","40-49%","50-59%","60-69%","70-79%","80-89%","90-100%"],hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],minutes:["00","05","10","15","20","25","30","35","40","45","50","55"],timezones:["EST","CST","MST","PST"],wmus:["1A","1C","2A","3A","3C","3F","3G","3H","3J","3K","3M","3N","3P","3R","3S","4A","4B","4C","4F","4G","4H","4J","4K","4L","4O","4P","4R","4S","4T","4U","4W","4Y","4Z","5A","5C","5F","5G","5H","5J","5R","5S","5T","6A","6C","6F","6G","6H","6J","6K","6N","6P","6R","6S","7A","7F","7H","7J","7M","7P","7R","7S","8A","8C","8F","8G","8H","8J","8M","8N","8P","8R","8S","8T","8W","8X","8Y","9A","9C","9F","9G","9H","9J","9K","9M","9N","9P","9R"," 9S","9T","9W","9X","9Y"]}},Yw3c:function(t,e,a){var s=a("cPCX");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},cPCX:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"\n.height-auto[data-v-39f7cc7c] {\n    height: auto !important;\n}\n",""])},"ce6+":function(t,e,a){"use strict";a.r(e);var s=a("o0o1"),n=a.n(s),r=a("P1tU"),o={name:"TokensField",props:{options:{required:!1,type:Array},id:{required:!1,type:String},value:{required:!1,type:Array},tags:{required:!1,type:Boolean,default:!1},disabled:{required:!1,type:Boolean,default:!1},placeholder:{required:!1,type:String,default:"Search..."}},components:{Select2:r.a},data:function(){return{selects:[]}},settings:function(){return{multiple:"true",tags:this.tags,theme:"bootstrap4"}},watch:{value:function(){this.selects=this.value}},methods:{onChange:function(t){this.$emit("input",t)}}},i=(a("ekwy"),a("KHd+")),l=Object(i.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{id:t.id+"_select",options:t.options,placeholder:t.placeholder,disabled:t.disabled,settings:{multiple:"true",tags:this.tags,theme:"bootstrap4"}},on:{change:function(e){return t.onChange(e)}},model:{value:t.selects,callback:function(e){t.selects=e},expression:"selects"}})],1)])}),[],!1,null,"39f7cc7c",null).exports,c=a("TTxJ"),u=a("mXro"),p=a("cv7c"),d=a("+Gql"),h=a("EyHm"),f=a.n(h),v=a("Ol2u");function m(t,e,a,s,n,r,o){try{var i=t[r](o),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(s,n)}function y(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var r=t.apply(e,a);function o(t){m(r,s,n,o,i,"next",t)}function i(t){m(r,s,n,o,i,"throw",t)}o(void 0)}))}}var g={name:"Statistics",components:{ApexChart:f.a,InlineSpinner:c.a,TokensField:l,Dropdown:u.a,Icon:p.a},mounted:function(){this.setChartDefault(),this.loadSites(),this.loadPlots(),this.loadTypes(),this.loadSpecies(),this.loadStates(),this.loadChart(),this.loadGroups()},watch:{sites:function(){this.loadChart(),this.loadPlots()},plots:function(){this.loadChart()},types:function(){this.loadChart(),this.loadSpecies()},species:function(){this.loadChart()},state:function(){this.loadChart()},stateSearch:function(){this.loadStates()},county:function(){this.loadChart()},countySearch:function(){this.loadCounties()},protection:function(){this.loadChart()},dataType:function(){this.sites=[],this.plots=[],this.loadChart(),this.loadSites(),this.loadPlots()},group:function(){this.loadChart()},groupSearch:function(){this.loadGroups()},wmu:function(){this.loadChart()},yearsFilter:function(){this.loadChart()}},data:function(){return{User:d.a,chart:null,loading:!1,siteOptions:[],plotOptions:[],typeOptions:[],speciesOptions:[],stateOptions:[],countyOptions:[],groups:[],sites:[],plots:[],types:[],species:[],years:[],yearsFilter:[],stateSearch:"",countySearch:"",groupSearch:"",protection:"",dataType:"owned",wmu:"",state:null,county:null,group:null,_request:null,options:v.a}},methods:{loadGroups:function(){var t=this;return y(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/groups",{params:{search:t.groupSearch}});case 3:a=e.sent,s=a.data,t.groups=s.data.map((function(t){return{label:t.name,value:t.id}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.$alert("Unable to load groups. Please try refreshing the page or contact us."),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadTypes:function(){var t=this;return y(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/plant-types");case 3:a=e.sent,s=a.data,t.typeOptions=s.map((function(t){return{id:t.id,text:t.name}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$alert("Unable to load plants. Please try refreshing the page.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadSpecies:function(){var t=this;return y(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.species=[],e.prev=1,e.next=4,axios.get("/web/statistics/species",{params:{types:t.types}});case 4:a=e.sent,s=a.data,t.speciesOptions=s.map((function(t){return{id:t.id,text:t.name}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.$alert("Unable to load species. Please try refreshing the page.");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},loadSites:function(){var t=this;return y(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/statistics/sites",{params:{data_type:t.dataType}});case 3:a=e.sent,s=a.data,t.siteOptions=s.map((function(t){return{id:t.id,text:t.name}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.$alert("Unable to load sites. Please try refreshing the page or contact us."),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadStates:function(){var t=this;return y(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/states",{params:{search:t.stateSearch}});case 3:a=e.sent,s=a.data,t.stateOptions=s.data.map((function(t){return{label:"".concat(t.name," (").concat(t.code,")"),value:t.id,search:t.name}})),t.state&&t.loadCounties(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t.$alert("Unable to load states. Please try refreshing the page or contact us."),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},loadCounties:function(){var t=this;return y(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/counties",{params:{state_id:t.state,search:t.countySearch}});case 3:a=e.sent,s=a.data,t.countyOptions=s.data.map((function(t){return{label:t.name,value:t.id}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.$alert("Unable to load counties. Please try refreshing the page or contact us."),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadPlots:function(){var t=this;return y(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.plots=[],e.prev=1,e.next=4,axios.get("/web/statistics/plots",{params:{data_type:t.dataType,sites:t.sites}});case 4:a=e.sent,s=a.data,t.plotOptions=s.map((function(t){return{id:t.id,text:t.name}})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.$alert("Unable to load plots. Please try refreshing the page or contact us."),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},loadChart:function(){var t=this;return y(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._request&&t._request(),t.loading=!0,e.prev=2,e.next=5,axios.get("/web/statistics/chart",{params:{sites:t.sites,plots:t.plots,types:t.types,species:t.species,state:t.state,county:t.county,data_type:t.dataType,group:t.group,wmu:t.wmu,protection:t.protection,years_filter:t.yearsFilter}});case 5:a=e.sent,0!==(s=a.data).length?t.setChart(s):t.setChartDefault(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),axios.isCancel()||(t.$alert("Unable to load sites. Please try refreshing the page or contact us."),console.error(e.t0));case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()},setChartDefault:function(){this.chart={options:{chart:{id:"sites-chart",toolbar:{show:!1}},xaxis:{labels:{show:!1}},yaxis:{title:{text:"Annual Height (inches)",style:{fontSize:14}}},noData:{text:"No measurements found."}},series:[{name:"protected",data:[]},{name:"unprotected",data:[]}]}},setChart:function(t){var e=[];void 0===t.data[0].unprotected?e.push({name:"protected",data:t.data[0].protected}):e.push({name:"unprotected",data:t.data[0].unprotected}),2===t.data.length&&e.push({name:"unprotected",data:t.data[1].unprotected}),this.years=t.years,this.chart={options:{chart:{id:"sites-chart",toolbar:{show:!1}},xaxis:{labels:{show:!0},categories:t.xaxis},yaxis:{title:{text:"Annual Height (inches)",style:{fontSize:14}}},colors:["#54A7FB","#14CA7E"],dataLabels:{formatter:function(e,a){var s=a.seriesIndex,n=a.dataPointIndex;return[e,"N=".concat(t.data[s].count[n])]},style:{colors:["#2D3748"]}},noData:{text:"No measurements found."}},series:e}},selectState:function(){this.state&&this.loadCounties(),this.$refs.county.clear()},clearState:function(){this.$refs.county.clear(),this.$refs.state.clear()},filterYear:function(t){this.yearsFilter.includes(t)?this.yearsFilter=this.yearsFilter.filter((function(e){return e!==t})):this.yearsFilter.push(t)}}},_=Object(i.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Data Type\n                            ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dataType,expression:"dataType"}],staticClass:"form-control",attrs:{name:"data-type",id:"data-type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.dataType=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"owned"}},[t._v("My Sites Only")]),t._v(" "),t.User.can("view sites")?a("option",{attrs:{value:"admin"}},[t._v("All Sites")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Group\n                            ")]),t._v(" "),a("div",{staticClass:"d-flex"},[a("dropdown",{ref:"group",staticClass:"flex-grow-1",attrs:{autocomplete:"",options:t.groups,placeholder:"Select a group"},on:{search:function(e){t.groupSearch=e}},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}}),t._v(" "),null!==t.group?a("a",{staticClass:"btn btn-link p-1 ml-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$refs.group.clear()}}},[t._v("\n                                    Clear\n                                ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Sites\n                            ")]),t._v(" "),a("tokens-field",{attrs:{id:"sites",options:t.siteOptions,placeholder:"Showing all sites"},model:{value:t.sites,callback:function(e){t.sites=e},expression:"sites"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Plots\n                            ")]),t._v(" "),a("tokens-field",{attrs:{id:"plots",options:t.plotOptions,placeholder:"Showing all plots"},model:{value:t.plots,callback:function(e){t.plots=e},expression:"plots"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Site Protection\n                            ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.protection,expression:"protection"}],staticClass:"form-control",attrs:{name:"protection",id:"protection"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.protection=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("All sites")]),t._v(" "),a("option",{attrs:{value:"both"}},[t._v("Sites with protected and unprotected plots")]),t._v(" "),a("option",{attrs:{value:"unprotected"}},[t._v("Sites with unprotected plots only")])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Plant Types\n                            ")]),t._v(" "),a("tokens-field",{attrs:{id:"types",options:t.typeOptions,placeholder:"Showing all types"},model:{value:t.types,callback:function(e){t.types=e},expression:"types"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Species\n                            ")]),t._v(" "),a("tokens-field",{attrs:{id:"species",options:t.speciesOptions,placeholder:"Showing all species"},model:{value:t.species,callback:function(e){t.species=e},expression:"species"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                State\n                            ")]),t._v(" "),a("div",{staticClass:"d-flex"},[a("dropdown",{ref:"state",staticClass:"flex-grow-1",attrs:{autocomplete:"",options:t.stateOptions,placeholder:"Select a state"},on:{input:function(e){return t.selectState(e)},search:function(e){t.stateSearch=e}},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),t._v(" "),null!==t.state?a("a",{staticClass:"btn btn-link p-1 ml-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clearState()}}},[t._v("\n                                    Clear\n                                ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                County\n                            ")]),t._v(" "),a("div",{staticClass:"d-flex"},[a("dropdown",{ref:"county",staticClass:"flex-grow-1",attrs:{autocomplete:"",placeholder:null===t.state?"Select a state first":"Select a County",options:t.countyOptions,disabled:null===t.state},on:{search:function(e){t.countySearch=e}},model:{value:t.county,callback:function(e){t.county=e},expression:"county"}}),t._v(" "),null!==t.county?a("a",{staticClass:"btn btn-link p-1 ml-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$refs.county.clear()}}},[t._v("\n                                    Clear\n                                ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Wildlife Management Unit\n                            ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.wmu,expression:"wmu"}],staticClass:"form-control",attrs:{name:"wmu",id:"wmu"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.wmu=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Show all units")]),t._v(" "),t._l(t.options.wmus,(function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))],2)])])])]),t._v(" "),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex"},[a("h1",{staticClass:"mr-2 page-title"},[t._v("Annual Heights")]),t._v(" "),t.loading?a("inline-spinner"):t._e()],1),t._v(" "),t.chart?a("div",{staticClass:"mr-4 card-body"},[a("apex-chart",{ref:"chart",attrs:{type:"bar",options:t.chart.options,series:t.chart.series}})],1):t._e(),t._v(" "),a("div",{staticClass:"card-body"},[t._m(1),t._v(" "),a("p",{staticClass:"text-muted"},[t._v("Unchecked years will be excluded from the chart")]),t._v(" "),a("div",{staticClass:"d-flex flex-wrap"},t._l(t.years,(function(e,s){return a("div",{staticClass:"align-items-center"},[a("div",{staticClass:"mb-2 mr-3 custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"year-"+s,name:"role-select"},domProps:{value:e,checked:!t.yearsFilter.includes(e)},on:{change:function(a){return t.filterYear(e)}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"year-"+s}},[t._v("\n                            "+t._s(e)+"\n                          ")])])])})),0)])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h1",{staticClass:"page-title"},[this._v("Filters")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("strong",[this._v("Filter by Year")])])}],!1,null,"309b4caf",null);e.default=_.exports},ekwy:function(t,e,a){"use strict";var s=a("Yw3c");a.n(s).a},mXro:function(t,e,a){"use strict";var s=a("cv7c"),n={name:"Dropdown",components:{InlineSpinner:a("TTxJ").a,Icon:s.a},props:{options:{required:!0,type:Array},value:{required:!1,default:null},placeholder:{required:!1,type:String,default:"Select"},emptyMessage:{required:!1,type:String,default:"No results found. Try adjusting your search terms."},endMessage:{required:!1,type:String,default:""},disabled:{required:!1,type:Boolean,default:!1},autocomplete:{required:!1,type:Boolean,default:!1},loading:{required:!1,type:Boolean,default:!1},error:{required:!1,type:Boolean,default:!1},maxWidth:{required:!1,type:Number,default:230},btnClass:{required:!1,type:String,default:"btn-select"},total:{required:!1,type:Number,default:0},lengthToSearch:{required:!1,type:Number,default:0},searchMessage:{required:!1,type:String,default:""}},data:function(){return{index:null}},computed:{selected:function(){return null===this.index||0===this.options.length?this.placeholder:this.options[this.index]?this.options[this.index].label:this.placeholder}},mounted:function(){this.setIndex()},watch:{options:{handler:function(){this.setIndex()},deep:!0},value:function(){this.setIndex()}},methods:{setIndex:function(){if(null!==this.value)for(var t=this.options,e=0;e<t.length;e++)if(this.value===t[e].value)return void(this.index=e)},select:function(t,e){this.$emit("input",t.value),this.index=e},focus:function(){var t=this;this.autocomplete&&setTimeout((function(){t.$refs.search.focus(),t.$refs.search.select()}),100)},clear:function(){this.$emit("input",null),this.index=null},down:function(){var t=$(this.$refs.menu).find(".dropdown-item").first();t.length&&t.focus()},up:function(t){this.autocomplete&&0===t&&this.focus()}}},r=a("KHd+"),o=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown autocomplete"},[a("button",{ref:"btn",staticClass:"font-weight-normal",class:["btn","d-flex",t.btnClass,{"btn-placeholder-effect":null===t.value,"btn-select-active":null!==t.value,"border-danger":t.error}],attrs:{"data-toggle":"dropdown","data-boundary":"window",disabled:t.disabled,"data-flip":"false"},on:{click:function(e){return t.focus()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.focus()}}},[a("span",{staticClass:"text-case-normal"},[t._v("\n      "+t._s(t.selected)+"\n    ")]),t._v(" "),t.loading?a("inline-spinner",{staticClass:"ml-auto text-primary"}):a("icon",{staticClass:"ml-auto btn-dropdown-icon",attrs:{name:"caret-down"}})],1),t._v(" "),a("div",{ref:"menu",staticClass:"dropdown-menu w-100",style:"max-width: "+t.maxWidth+"px;"},[t.autocomplete?a("div",{staticClass:"pb-2 px-3"},[a("input",{ref:"search",staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:"Search...",title:"Search"},on:{keyup:function(e){return t.$emit("search",e.target.value)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.down()},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.options.length>0&&t.select(t.options[0],0)}]}})]):t._e(),t._v(" "),t._t("header"),t._v(" "),t._l(t.options,(function(e,s){return a("a",{class:["dropdown-item",{active:e.value===t.value}],attrs:{href:"#"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.up(s)},click:function(a){return a.preventDefault(),t.select(e,s)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])})),t._v(" "),t._t("default"),t._v(" "),0===t.options.length&&t.value<t.lengthToSearch&&t.searchMessage?a("p",{staticClass:"text-center text-muted p-2 mb-0"},[t._v("\n      "+t._s(t.searchMessage)+"\n    ")]):t.options.length<t.total?a("p",{staticClass:"text-muted text-center p-2 mb-0"},[t._v("\n      "+t._s("Showing "+t.options.length+" of "+t.total+". Please search to see more")+"\n    ")]):0===t.options.length&&t.emptyMessage.length?a("p",{staticClass:"text-center text-muted p-2 mb-0"},[t._v(t._s(t.emptyMessage))]):t.endMessage.length?a("p",{staticClass:"text-center text-muted p-2 mb-0"},[a("small",[t._v(t._s(t.endMessage))])]):t._e(),t._v(" "),t._t("footer")],2)])}),[],!1,null,"e075cf5c",null);e.a=o.exports}}]);