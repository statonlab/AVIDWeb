{"version":3,"file":"js/user.d5da3df50378f700.js","mappings":"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","sources":["webpack:///resources/js/components/Pager.vue","webpack:///./resources/js/components/Pager.vue?b55f","webpack:///./resources/js/components/Pager.vue","webpack:///./resources/js/components/Pager.vue?99bb","webpack:///./resources/js/screens/User.vue?e816","webpack:///resources/js/screens/User.vue","webpack:///./resources/js/screens/User.vue?0403","webpack:///./resources/js/screens/User.vue"],"sourcesContent":["<template>\n    <nav aria-label=\"Page navigation\" v-if=\"lastPage > 1\">\n        <ul class=\"pagination justify-content-center mb-0\">\n            <li :class=\"['page-item', {disabled: page === 1}]\">\n                <a class=\"page-link\"\n                   href=\"#\"\n                   tabindex=\"-1\"\n                   :aria-disabled=\"page === 1 ? 'true' : 'false'\"\n                   @click.prevent=\"previous()\">Previous</a>\n            </li>\n            <li v-for=\"i in lastPage\" :class=\"['page-item', {active: page === i}]\">\n                <a class=\"page-link\" href=\"#\" @click.prevent=\"change(i)\">{{ i }}</a>\n            </li>\n            <li :class=\"['page-item', {disabled: lastPage === page}]\">\n                <a class=\"page-link\"\n                   href=\"#\"\n                   :aria-disabled=\"lastPage === page ? 'true' : 'false'\"\n                   @click.prevent=\"next()\">Next</a>\n            </li>\n        </ul>\n    </nav>\n</template>\n\n<script>\n  export default {\n    name: 'Pager',\n\n    props: {\n      lastPage: {required: true, type: Number},\n      page    : {required: true, type: Number},\n    },\n\n    methods: {\n      previous() {\n        if (this.page === 1) {\n          return\n        }\n\n        this.$emit('change', this.page - 1)\n      },\n\n      next() {\n        if (this.lastPage === this.page) {\n          return\n        }\n\n        this.$emit('change', this.page + 1)\n      },\n\n      change(page) {\n        if (this.page === page) {\n          return\n        }\n\n        this.$emit('change', page)\n      },\n    },\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pager.vue?vue&type=template&id=d369b0ee&scoped=true&\"\nimport script from \"./Pager.vue?vue&type=script&lang=js&\"\nexport * from \"./Pager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d369b0ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.lastPage > 1)?_c('nav',{attrs:{\"aria-label\":\"Page navigation\"}},[_c('ul',{staticClass:\"pagination justify-content-center mb-0\"},[_c('li',{class:['page-item', {disabled: _vm.page === 1}]},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"tabindex\":\"-1\",\"aria-disabled\":_vm.page === 1 ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();return _vm.previous()}}},[_vm._v(\"Previous\")])]),_vm._v(\" \"),_vm._l((_vm.lastPage),function(i){return _c('li',{class:['page-item', {active: _vm.page === i}]},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.change(i)}}},[_vm._v(_vm._s(i))])])}),_vm._v(\" \"),_c('li',{class:['page-item', {disabled: _vm.lastPage === _vm.page}]},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-disabled\":_vm.lastPage === _vm.page ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();return _vm.next()}}},[_vm._v(\"Next\")])])],2)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('inline-spinner'):_vm._e(),_vm._v(\" \"),(!_vm.loading && _vm.user)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-4 col-md-5\"},[_c('div',{staticClass:\"card mb-4\"},[_c('div',{staticClass:\"card-body d-flex align-items-center\"},[_c('avatar',{staticClass:\"flex-shrink-0\",attrs:{\"user\":_vm.user,\"tooltip\":false}}),_vm._v(\" \"),_c('div',{staticClass:\"ml-3\"},[_c('strong',[_vm._v(_vm._s(_vm.user.name))]),_vm._v(\" \"),_c('p',{staticClass:\"mb-0 text-muted\"},[_vm._v(_vm._s((\"Member since \" + (_vm.user.member_since))))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":(\"mailto:\" + (_vm.user.email))}},[_vm._v(\"\\n                            \"+_vm._s(_vm.user.email)+\"\\n                        \")])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-body rounded\"},[_c('p',{staticClass:\"font-weight-bold text-dark text-sm mb-1\"},[_vm._v(\"Roles\")]),_vm._v(\" \"),_vm._l((_vm.roles),function(role,index){return _c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',{staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userRole),expression:\"userRole\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"radio\",\"id\":(\"role-\" + index),\"name\":\"role-select\"},domProps:{\"value\":(\"\" + (role.id)),\"checked\":_vm._q(_vm.userRole,(\"\" + (role.id)))},on:{\"change\":[function($event){_vm.userRole=\"\" + (role.id)},_vm.setRole]}}),_vm._v(\" \"),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":(\"role-\" + index)}},[_vm._v(\"\\n                                \"+_vm._s(role.name)+\"\\n                            \")])])])})],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-8 col-md-7\"},[_c('div',{staticClass:\"d-flex\"},[_c('h1',{staticClass:\"page-title mb-3\"},[_vm._v(\"Sites\")]),_vm._v(\" \"),_c('div',{staticClass:\"ml-auto text-muted\"},[_vm._v(\"\\n                    Page \"+_vm._s(_vm.page)+\" of \"+_vm._s(_vm.lastPage)+\"\\n                \")])]),_vm._v(\" \"),_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header d-flex p-2\"},[_c('div',{staticClass:\"flex-grow-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"form-control\",attrs:{\"type\":\"search\",\"placeholder\":\"Search...\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})])]),_vm._v(\" \"),(_vm.loading)?_c('p',{staticClass:\"mb-0 p-4\"},[_c('inline-spinner',{staticClass:\"text-primary\"})],1):_vm._e(),_vm._v(\" \"),(!_vm.loading && _vm.sites.length === 0)?_c('p',{staticClass:\"mb-0 p-4 text-muted\"},[_vm._v(\"\\n                    User does not have any sites.\\n                \")]):_vm._e(),_vm._v(\" \"),(!_vm.loading && _vm.sites.length > 0)?_c('table',{staticClass:\"table mb-0 table-middle table-hover\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.sites),function(site){return _c('tr',{staticClass:\"on-hover\"},[_c('td',[_c('router-link',{attrs:{\"to\":(\"/app/sites/\" + (site.id))}},[_c('strong',[_vm._v(_vm._s(site.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"text-muted\"},[_vm._v(\"\\n                                    \"+_vm._s(site.county.name)+\", \"+_vm._s(site.state.code)+\"\\n                                \")])],1),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(site.plots_count))]),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(site.plants_count))])])}),0)]):_vm._e()]),_vm._v(\" \"),_c('pager',{attrs:{\"last-page\":_vm.lastPage,\"page\":_vm.page},on:{\"change\":function($event){return _vm.goTo($event)}}})],1)]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Plots\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Plants\")]),_vm._v(\" \"),_c('th')])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <inline-spinner v-if=\"loading\"/>\n        <div class=\"row\" v-if=\"!loading && user\">\n            <div class=\"col-xl-4 col-md-5\">\n                <div class=\"card mb-4\">\n                    <div class=\"card-body d-flex align-items-center\">\n                        <avatar class=\"flex-shrink-0\" :user=\"user\" :tooltip=\"false\"/>\n                        <div class=\"ml-3\">\n                            <strong>{{ user.name }}</strong>\n                            <p class=\"mb-0 text-muted\">{{ `Member since ${user.member_since}` }}</p>\n                            <a :href=\"`mailto:${user.email}`\">\n                                {{ user.email }}\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card mb-3\">\n                    <div class=\"card-body rounded\">\n                        <p class=\"font-weight-bold text-dark text-sm mb-1\">Roles</p>\n                        <div v-for=\"(role, index) in roles\" class=\"d-flex align-items-center\">\n                            <div class=\"custom-control custom-radio\">\n                                <input type=\"radio\"\n                                       :id=\"`role-${index}`\"\n                                       name=\"role-select\"\n                                       class=\"custom-control-input\"\n                                       :value=\"`${role.id}`\"\n                                       v-model=\"userRole\"\n                                       v-on:change=\"setRole\">\n                                <label class=\"custom-control-label\"\n                                       :for=\"`role-${index}`\">\n                                    {{ role.name }}\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-xl-8 col-md-7\">\n                <div class=\"d-flex\">\n                    <h1 class=\"page-title mb-3\">Sites</h1>\n                    <div class=\"ml-auto text-muted\">\n                        Page {{ page }} of {{ lastPage }}\n                    </div>\n                </div>\n                <div class=\"card\">\n                    <div class=\"card-header d-flex p-2\">\n                        <div class=\"flex-grow-1\">\n                            <input type=\"search\" class=\"form-control\" v-model=\"search\" placeholder=\"Search...\">\n                        </div>\n                    </div>\n                    <p class=\"mb-0 p-4\" v-if=\"loading\">\n                        <inline-spinner class=\"text-primary\"/>\n                    </p>\n                    <p class=\"mb-0 p-4 text-muted\" v-if=\"!loading && sites.length === 0\">\n                        User does not have any sites.\n                    </p>\n                    <table class=\"table mb-0 table-middle table-hover\" v-if=\"!loading && sites.length > 0\">\n                        <thead>\n                        <tr>\n                            <th style=\"width: 100%\">Name</th>\n                            <th>Plots</th>\n                            <th>Plants</th>\n                            <th></th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"site in sites\" class=\"on-hover\">\n                                <td>\n                                    <router-link :to=\"`/app/sites/${site.id}`\">\n                                        <strong>{{ site.name }}</strong>\n                                    </router-link>\n                                    <div class=\"text-muted\">\n                                        {{ site.county.name }}, {{ site.state.code }}\n                                    </div>\n                                </td>\n                                <td class=\"text-right\">{{ site.plots_count }}</td>\n                                <td class=\"text-right\">{{ site.plants_count }}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <pager @change=\"goTo($event)\"\n                       :last-page=\"lastPage\"\n                       :page=\"page\"/>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import Avatar from '../components/Avatar'\n  import InlineSpinner from '../components/InlineSpinner'\n  import Pager from '../components/Pager'\n\n  export default {\n    name: 'User',\n\n    components: {InlineSpinner, Avatar, Pager},\n\n    data() {\n      return {\n        user        : null,\n        userRole    : '',\n        sites       : [],\n        roles       : [],\n        loading     : true,\n        search      : '',\n        page        : 1,\n        lastPage    : 1,\n      }\n    },\n\n    mounted() {\n      this.loadUser()\n      this.loadSites()\n      this.loadRoles()\n      this.loading = false\n    },\n\n    watch: {\n      search() {\n        this.loadSites()\n      },\n    },\n\n    methods: {\n      async loadUser() {\n        try {\n          const id      = this.$route.params.id\n          const {data}  = await axios.get(`/web/users/${id}`)\n          this.user     = data\n          this.userRole = `${this.user.role_id}`\n        } catch (e) {\n          console.error(e)\n          this.$notify({\n            text: 'Unable to process this request. Please try refreshing the page.',\n            type: 'error',\n          })\n        }\n      },\n\n      async loadSites() {\n        try {\n          const id     = this.$route.params.id\n          const {data} = await axios.get(`/web/user/${id}/sites`, {\n            params: {\n              search: this.search,\n              page  : this.page,\n            }\n          })\n          this.sites    = data.data\n          this.page     = data.current_page\n          this.lastPage = data.last_page\n        } catch (e) {\n          console.error(e)\n          this.$notify({\n            text: 'Unable to process this request. Please try refreshing the page.',\n            type: 'error',\n          })\n        }\n      },\n\n      async loadRoles() {\n        try {\n          const {data} = await axios.get(`/web/roles`)\n          this.roles    = data\n        } catch (e) {\n          console.error(e)\n          this.$notify({\n            text: 'Unable to process this request. Please try refreshing the page.',\n            type: 'error',\n          })\n        }\n      },\n\n      async setRole() {\n        try {\n          const id      = this.$route.params.id\n          await axios.patch(`/web/user/${id}/role`, {\n            role: this.userRole,\n          })\n          \n          this.$notify({\n              text: 'Role updated successfully.',\n              type: 'success'\n          })\n        } catch (e) {\n          console.error(e)\n          this.$notify({\n            text: 'Unable to process this request. Please try refreshing the page.',\n            type: 'error',\n          })\n        }\n      },\n\n      goTo(page) {\n        this.loading = true\n        this.page    = page\n        this.loadSites()\n        this.loading = false\n      },\n    },\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=34204a09&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34204a09\",\n  null\n  \n)\n\nexport default component.exports"],"names":["_vm","this","_h","$createElement","_c","_self","lastPage","attrs","staticClass","class","disabled","page","on","$event","preventDefault","previous","_v","_l","i","active","change","_s","next","_e","loading","user","name","email","role","index","directives","rawName","value","expression","domProps","_q","userRole","setRole","target","composing","search","sites","length","_m","site","county","state","code","plots_count","plants_count","goTo","staticStyle"],"sourceRoot":""}