{"version":3,"file":"js/maps.524b60df9a5ce7d3.js","mappings":"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","sources":["webpack:///./resources/js/helpers/Maps.js","webpack:///./resources/js/components/SitesMap.vue?d178","webpack:///./resources/js/screens/Maps.vue","webpack:///resources/js/components/SitesMap.vue","webpack:///./resources/js/components/SitesMap.vue?047b","webpack:///./resources/js/components/SitesMap.vue?99cf","webpack:///./resources/js/components/SitesMap.vue?8179","webpack:///./resources/js/components/SitesMap.vue","webpack:///./resources/js/screens/Maps.vue?b62c","webpack:///resources/js/screens/Maps.vue","webpack:///./resources/js/screens/Maps.vue?0a1f"],"sourcesContent":["export default class Maps {\n    loadMap(onLoad) {\n        if (window.google && window.google.maps) {\n            onLoad()\n            return\n        }\n\n        const script  = document.createElement('script')\n        const key     = window.avid.keys.maps\n        script.async  = true\n        script.defer  = true\n        script.type   = 'text/javascript'\n        script.onload = onLoad\n        script.src    = `https://maps.googleapis.com/maps/api/js?key=${key}`\n        document.head.appendChild(script)\n    }\n\n    static load(onLoad) {\n        return new Maps().loadMap(onLoad)\n    }\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sites-map[data-v-d4917e98]{height:calc(95vh - 145px)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/components/SitesMap.vue\"],\"names\":[],\"mappings\":\"AAiPA,4BACA,yBACA\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"card border shadow-sm\\\">\\n    <div class=\\\"card-header shadow-none bg-light rounded\\\">\\n      <strong>All Sites</strong>\\n    </div>\\n    <div class=\\\"card-body\\\">\\n      <div ref=\\\"map\\\" class=\\\"sites-map\\\"></div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script>\\nimport Maps from '../helpers/Maps'\\n\\nexport default {\\n  name: 'SitesMap',\\n\\n  mounted() {\\n    this.loadMap()\\n  },\\n\\n  data() {\\n    return {\\n      plots          : [],\\n      map            : null,\\n      markers        : [],\\n      infoWindow     : null,\\n      selectedFeature: null,\\n    }\\n  },\\n\\n  methods: {\\n    loadMap() {\\n      Maps.load(async () => {\\n        await this.loadPlots()\\n        this.createMap()\\n        this.setMapMarkers()\\n        await this.loadLayers()\\n      })\\n    },\\n\\n    async loadPlots() {\\n      try {\\n        const {data} = await axios.get(`/web/sites-map`)\\n        this.plots   = data\\n      } catch (e) {\\n        console.error(e)\\n      }\\n    },\\n\\n    async loadLayers() {\\n      try {\\n        const {data} = await axios.get('/web/sites-map/layers')\\n        this.map.data.addGeoJson(data)\\n        this.map.data.setMap(this.map)\\n        this.map.data.addListener('click', (event) => {\\n          this.showWmu(event)\\n        })\\n        this.map.data.setStyle(f => {\\n          return {\\n            strokeWeight: 1,\\n            fillColor   : '#000000',\\n          }\\n        })\\n      } catch (e) {\\n        console.error(e)\\n      }\\n    },\\n\\n    setMapMarkers() {\\n      this.markers.forEach(marker => {\\n        marker.setMap(null)\\n      })\\n      this.markers = []\\n      this.plots.forEach(plot => {\\n        const marker = new google.maps.Marker({\\n          map     : this.map,\\n          position: this.getCoords(plot),\\n        })\\n\\n        marker.addListener('click', () => {\\n          this.openWindow(marker, plot)\\n        })\\n\\n        this.markers.push(marker)\\n      })\\n    },\\n\\n    createMap() {\\n      let position = {\\n        lat: -35,\\n        lng: 85,\\n      }\\n\\n      if (this.plots.length) {\\n        const plot = this.plots[0]\\n        position   = this.getCoords(plot)\\n      }\\n\\n      this.map = new google.maps.Map(this.$refs.map, {\\n        zoom  : 6,\\n        center: position,\\n      })\\n\\n      this.map.addListener('click', () => {\\n        this.map.data.setStyle(() => {\\n          return {\\n            color       : '#000000',\\n            strokeWeight: 1,\\n          }\\n        })\\n\\n        if (this.infoWindow) {\\n          this.infoWindow.close()\\n        }\\n      })\\n    },\\n\\n    getCoords(plot) {\\n      return {lat: plot[1], lng: plot[2]}\\n    },\\n\\n    async showWmu(event) {\\n      const feature   = event.feature\\n      const aggregate = feature.getProperty('Aggregate')\\n\\n      if (this.selectedFeature && this.selectedFeature.getProperty('Aggregate') === aggregate) {\\n        this.selectedFeature = null\\n        this.map.data.setStyle(() => {\\n          return {\\n            color       : '#000000',\\n            strokeWeight: 1,\\n          }\\n        })\\n        if (this.infoWindow) {\\n          this.infoWindow.close()\\n        }\\n\\n        return\\n      }\\n\\n      let content = `\\n      <table class=\\\"table mb-0\\\">\\n        <tr>\\n          <th>WMU</th>\\n          <td>${aggregate}</td>\\n        </tr>\\n      </table>\\n      `\\n      if (!this.infoWindow) {\\n        this.infoWindow = new google.maps.InfoWindow({\\n          content,\\n        })\\n      } else {\\n        this.infoWindow.close()\\n        this.infoWindow.setContent(content)\\n      }\\n\\n      this.map.data.setStyle(f => {\\n        let color = '#000000'\\n\\n        if (f.getProperty('Aggregate') === aggregate) {\\n          color = '#ff0000'\\n        }\\n\\n        return {\\n          strokeWeight: 1,\\n          fillColor   : color,\\n        }\\n      })\\n\\n      this.infoWindow.open({\\n        anchor  : null,\\n        position: event.latLng,\\n        map     : this.map,\\n      })\\n      this.infoWindow.setPosition(event.latLng)\\n      this.selectedFeature = feature\\n    },\\n\\n    async openWindow(marker, plot) {\\n      if (this.loading) {\\n        return\\n      }\\n\\n      this.loading = true\\n      try {\\n        const id = plot[0]\\n        if (this.infoWindow) {\\n          this.infoWindow.close()\\n        }\\n\\n        const loadingState = `\\n        <span class=\\\"spinner-grow spinner-grow-sm text-primary\\\" role=\\\"status\\\" aria-hidden=\\\"true\\\"></span>\\n        <span>Loading...</span>\\n        `\\n        if (!this.infoWindow) {\\n          this.infoWindow = new google.maps.InfoWindow({\\n            content: loadingState,\\n          })\\n        } else {\\n          this.infoWindow.setContent(loadingState)\\n        }\\n\\n        this.infoWindow.open({\\n          anchor: marker,\\n          map   : this.map,\\n        })\\n\\n        const {data} = await axios.get(`/web/sites-map/site/${id}`)\\n\\n        this.infoWindow.setContent(`\\n        <div>\\n          <table class=\\\"table mb-0 table-sm\\\">\\n          <tr>\\n              <th>Site Name</th>\\n              <td>${data.name}</td>\\n            </tr>\\n            <tr>\\n              <th>Created By</th>\\n              <td>${data.user.name}</td>\\n            </tr>\\n            <tr>\\n              <td colspan=\\\"2\\\">\\n                <a href=\\\"${data.url}\\\">Visit site page</a>\\n              </td>\\n            </tr>\\n          </table>\\n        </div>\\n        `)\\n      } catch (e) {\\n        console.error(e)\\n      }\\n\\n      this.loading = false\\n    },\\n  },\\n}\\n</script>\\n\\n<style scoped lang=\\\"css\\\">\\n.sites-map {\\n  height: calc(95vh - 145px);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('sites-map')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card border shadow-sm\">\n    <div class=\"card-header shadow-none bg-light rounded\">\n      <strong>All Sites</strong>\n    </div>\n    <div class=\"card-body\">\n      <div ref=\"map\" class=\"sites-map\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Maps from '../helpers/Maps'\n\nexport default {\n  name: 'SitesMap',\n\n  mounted() {\n    this.loadMap()\n  },\n\n  data() {\n    return {\n      plots          : [],\n      map            : null,\n      markers        : [],\n      infoWindow     : null,\n      selectedFeature: null,\n    }\n  },\n\n  methods: {\n    loadMap() {\n      Maps.load(async () => {\n        await this.loadPlots()\n        this.createMap()\n        this.setMapMarkers()\n        await this.loadLayers()\n      })\n    },\n\n    async loadPlots() {\n      try {\n        const {data} = await axios.get(`/web/sites-map`)\n        this.plots   = data\n      } catch (e) {\n        console.error(e)\n      }\n    },\n\n    async loadLayers() {\n      try {\n        const {data} = await axios.get('/web/sites-map/layers')\n        this.map.data.addGeoJson(data)\n        this.map.data.setMap(this.map)\n        this.map.data.addListener('click', (event) => {\n          this.showWmu(event)\n        })\n        this.map.data.setStyle(f => {\n          return {\n            strokeWeight: 1,\n            fillColor   : '#000000',\n          }\n        })\n      } catch (e) {\n        console.error(e)\n      }\n    },\n\n    setMapMarkers() {\n      this.markers.forEach(marker => {\n        marker.setMap(null)\n      })\n      this.markers = []\n      this.plots.forEach(plot => {\n        const marker = new google.maps.Marker({\n          map     : this.map,\n          position: this.getCoords(plot),\n        })\n\n        marker.addListener('click', () => {\n          this.openWindow(marker, plot)\n        })\n\n        this.markers.push(marker)\n      })\n    },\n\n    createMap() {\n      let position = {\n        lat: -35,\n        lng: 85,\n      }\n\n      if (this.plots.length) {\n        const plot = this.plots[0]\n        position   = this.getCoords(plot)\n      }\n\n      this.map = new google.maps.Map(this.$refs.map, {\n        zoom  : 6,\n        center: position,\n      })\n\n      this.map.addListener('click', () => {\n        this.map.data.setStyle(() => {\n          return {\n            color       : '#000000',\n            strokeWeight: 1,\n          }\n        })\n\n        if (this.infoWindow) {\n          this.infoWindow.close()\n        }\n      })\n    },\n\n    getCoords(plot) {\n      return {lat: plot[1], lng: plot[2]}\n    },\n\n    async showWmu(event) {\n      const feature   = event.feature\n      const aggregate = feature.getProperty('Aggregate')\n\n      if (this.selectedFeature && this.selectedFeature.getProperty('Aggregate') === aggregate) {\n        this.selectedFeature = null\n        this.map.data.setStyle(() => {\n          return {\n            color       : '#000000',\n            strokeWeight: 1,\n          }\n        })\n        if (this.infoWindow) {\n          this.infoWindow.close()\n        }\n\n        return\n      }\n\n      let content = `\n      <table class=\"table mb-0\">\n        <tr>\n          <th>WMU</th>\n          <td>${aggregate}</td>\n        </tr>\n      </table>\n      `\n      if (!this.infoWindow) {\n        this.infoWindow = new google.maps.InfoWindow({\n          content,\n        })\n      } else {\n        this.infoWindow.close()\n        this.infoWindow.setContent(content)\n      }\n\n      this.map.data.setStyle(f => {\n        let color = '#000000'\n\n        if (f.getProperty('Aggregate') === aggregate) {\n          color = '#ff0000'\n        }\n\n        return {\n          strokeWeight: 1,\n          fillColor   : color,\n        }\n      })\n\n      this.infoWindow.open({\n        anchor  : null,\n        position: event.latLng,\n        map     : this.map,\n      })\n      this.infoWindow.setPosition(event.latLng)\n      this.selectedFeature = feature\n    },\n\n    async openWindow(marker, plot) {\n      if (this.loading) {\n        return\n      }\n\n      this.loading = true\n      try {\n        const id = plot[0]\n        if (this.infoWindow) {\n          this.infoWindow.close()\n        }\n\n        const loadingState = `\n        <span class=\"spinner-grow spinner-grow-sm text-primary\" role=\"status\" aria-hidden=\"true\"></span>\n        <span>Loading...</span>\n        `\n        if (!this.infoWindow) {\n          this.infoWindow = new google.maps.InfoWindow({\n            content: loadingState,\n          })\n        } else {\n          this.infoWindow.setContent(loadingState)\n        }\n\n        this.infoWindow.open({\n          anchor: marker,\n          map   : this.map,\n        })\n\n        const {data} = await axios.get(`/web/sites-map/site/${id}`)\n\n        this.infoWindow.setContent(`\n        <div>\n          <table class=\"table mb-0 table-sm\">\n          <tr>\n              <th>Site Name</th>\n              <td>${data.name}</td>\n            </tr>\n            <tr>\n              <th>Created By</th>\n              <td>${data.user.name}</td>\n            </tr>\n            <tr>\n              <td colspan=\"2\">\n                <a href=\"${data.url}\">Visit site page</a>\n              </td>\n            </tr>\n          </table>\n        </div>\n        `)\n      } catch (e) {\n        console.error(e)\n      }\n\n      this.loading = false\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"css\">\n.sites-map {\n  height: calc(95vh - 145px);\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SitesMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SitesMap.vue?vue&type=script&lang=js&\"","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-9.use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-9.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SitesMap.vue?vue&type=style&index=0&id=d4917e98&prod&scoped=true&lang=css&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./SitesMap.vue?vue&type=template&id=d4917e98&scoped=true&\"\nimport script from \"./SitesMap.vue?vue&type=script&lang=js&\"\nexport * from \"./SitesMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SitesMap.vue?vue&type=style&index=0&id=d4917e98&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d4917e98\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card border shadow-sm\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{ref:\"map\",staticClass:\"sites-map\"})])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-header shadow-none bg-light rounded\"},[_c('strong',[_vm._v(\"All Sites\")])])\n}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maps.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <!-- Filters to be added later -->\n    <!--    <div class=\"col-md-3 col-sm-4\">-->\n    <!--      <div class=\"card mb-3 border shadow-sm\">-->\n    <!--        <div class=\"card-header shadow-none bg-light rounded\">-->\n    <!--          <strong class=\"text-medium\">Options</strong>-->\n    <!--        </div>-->\n    <!--        <div class=\"card-body p-2\">-->\n    <!--          <div class=\"nav nav-pills flex-column\"-->\n    <!--               id=\"v-pills-tab\"-->\n    <!--               role=\"tablist\"-->\n    <!--               aria-orientation=\"vertical\">-->\n    <!--            <a href=\"#\"-->\n    <!--               :class=\"['nav-link', 'pr-0', {'active': tab === 'one'}]\"-->\n    <!--               @click.prevent=\"selectTab('one')\">-->\n    <!--              <span>{{ 'Test Option 1' }}</span>-->\n    <!--              <icon v-if=\"tab === 'one'\" name=\"arrow-forward\" class=\"ml-auto forward-icon\"/>-->\n    <!--            </a>-->\n    <!--            <a href=\"#\"-->\n    <!--               :class=\"['nav-link', 'pr-0', {'active': tab === 'two'}]\"-->\n    <!--               @click.prevent=\"selectTab('two')\">-->\n    <!--              <span>{{ 'Test Option 2' }}</span>-->\n    <!--              <icon v-if=\"tab === 'two'\" name=\"arrow-forward\" class=\"ml-auto forward-icon\"/>-->\n    <!--            </a>-->\n    <!--          </div>-->\n    <!--        </div>-->\n    <!--      </div>-->\n    <!--    </div>-->\n    <sites-map/>\n  </div>\n</template>\n\n<script>\nimport InlineSpinner from '../components/InlineSpinner'\nimport Icon from '../components/Icon'\nimport SitesMap from \"../components/SitesMap\";\n\nexport default {\n  name: 'Maps',\n\n  components: {\n    InlineSpinner,\n    Icon,\n    SitesMap\n  },\n\n  mounted() {\n    this.selectTabFromHash()\n  },\n\n  data() {\n    return {\n      _request: null,\n      tab: 'one',\n      tabs: [\n        'one',\n        'two',\n      ],\n    }\n  },\n\n  methods: {\n    makeHash(tab) {\n      return tab.replace(/ /g, '-')\n    },\n    selectTabFromHash() {\n      if (this.$route.hash && this.$route.hash.length > 0) {\n        this.selectTab(this.$route.hash.replace(/-/g, ' ').substring(1))\n      }\n    },\n    selectTab(tab) {\n      if (this.tabs.indexOf(tab) === -1) {\n        return\n      }\n      this.tab = tab\n      this.$router.push({\n        hash: this.makeHash(tab),\n      }).catch(e => {\n      })\n    },\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render, staticRenderFns } from \"./Maps.vue?vue&type=template&id=98f3d6ba&scoped=true&\"\nimport script from \"./Maps.vue?vue&type=script&lang=js&\"\nexport * from \"./Maps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98f3d6ba\",\n  null\n  \n)\n\nexport default component.exports"],"names":["Maps","onLoad","loadMap","window","google","maps","script","document","createElement","key","avid","keys","async","defer","type","onload","src","head","appendChild","___CSS_LOADER_EXPORT___","push","module","id","i","name","mounted","data","plots","map","markers","infoWindow","selectedFeature","methods","loadPlots","axios","console","loadLayers","strokeWeight","fillColor","setMapMarkers","marker","position","createMap","lat","lng","zoom","center","color","getCoords","plot","showWmu","event","feature","aggregate","content","anchor","openWindow","loadingState","options","_vm","this","_c","_self","staticClass","_m","_v","ref","components","InlineSpinner","Icon","SitesMap","_request","tab","tabs","makeHash","selectTabFromHash","selectTab","hash"],"sourceRoot":""}