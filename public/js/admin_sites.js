(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{JkpB:function(t,a,e){"use strict";e.r(a);var s=e("o0o1"),n=e.n(s);function i(t,a,e,s,n,i,r){try{var o=t[i](r),l=o.value}catch(t){return void e(t)}o.done?a(l):Promise.resolve(l).then(s,n)}var r={name:"AdminQuarantine",components:{SitesDataView:e("Y3if").a},data:function(){return{data:[],page:1,lastPage:1,total:0,dataType:"plots",loading:!1,orderBy:"owner",orderDir:"desc"}},mounted:function(){this.loadData()},watch:{dataType:function(){this.loadData()}},methods:{setMeta:function(t){this.page=t.current_page,this.lastPage=t.last_page,this.total=t.total},loadData:function(){var t,a=this;return(t=n.a.mark((function t(){var e,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.loading=!0,t.prev=1,t.next=4,axios.get("/web/admin/data-quarantine",{params:{type:a.dataType,order_by:a.orderBy,order_dir:a.orderDir}});case 4:e=t.sent,s=e.data,a.data=s.data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:a.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var a=this,e=arguments;return new Promise((function(s,n){var r=t.apply(a,e);function o(t){i(r,s,n,o,l,"next",t)}function l(t){i(r,s,n,o,l,"throw",t)}o(void 0)}))})()}}},o=e("KHd+"),l=Object(o.a)(r,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"d-flex mb-3 align-items-center"},[t._m(0),t._v(" "),e("div",{staticClass:"flex-shrink-0"},[e("div",{staticClass:"text-muted"},[t._v("\n        Page "+t._s(t.page)+" of "+t._s(t.lastPage)+". "+t._s(t.total)+" sites found.\n      ")])])]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header d-flex"},[e("div",{staticClass:"flex-shrink-0"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.dataType,expression:"dataType"}],staticClass:"form-control",attrs:{name:"data-type",id:"data-type"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.dataType=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"plots"}},[t._v("Plots")]),t._v(" "),e("option",{attrs:{value:"plants"}},[t._v("Plants")])])])]),t._v(" "),e("div",{staticClass:"card-body"},[e("table",{staticClass:"table mb-0 table-middle table-hover table-nowrap"},["plots"===t.dataType?e("thead",[t._m(1)]):e("thead",[t._m(2)]),t._v(" "),"plots"===t.dataType?e("tbody",t._l(t.data,(function(a){return e("tr",[e("td",[t._v(t._s(a.number))]),t._v(" "),e("td",[e("router-link",{attrs:{to:"/sites/"+a.site.id}},[t._v("\n                "+t._s(a.site.name)+"\n              ")])],1),t._v(" "),e("td",[t._v(t._s(a.user.name))])])})),0):e("tbody",t._l(t.data,(function(a){return e("tr",[e("td",[t._v(t._s(a.tag))]),t._v(" "),e("td",[t._v(t._s(a.site.name))]),t._v(" "),e("td",[t._v(t._s(a.user.name))])])})),0)])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"flex-grow-1"},[a("h1",{staticClass:"page-title"},[this._v("Data Quarantine")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("tr",[a("th",[this._v("Plot")]),this._v(" "),a("th",[this._v("Site")]),this._v(" "),a("th",[this._v("Owner")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("tr",[a("th",[this._v("Plant")]),this._v(" "),a("th",[this._v("Site")]),this._v(" "),a("th",[this._v("Owner")])])}],!1,null,"7ec3a6dc",null);a.default=l.exports},eorD:function(t,a,e){"use strict";e.r(a);var s={name:"AdminData",components:{SitesDataView:e("Y3if").a},data:function(){return{page:1,lastPage:1,total:0}},methods:{setMeta:function(t){this.page=t.current_page,this.lastPage=t.last_page,this.total=t.total}}},n=e("KHd+"),i=Object(n.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"d-flex mb-3 align-items-center"},[t._m(0),t._v(" "),e("div",{staticClass:"flex-shrink-0"},[e("div",{staticClass:"text-muted"},[t._v("\n                Page "+t._s(t.page)+" of "+t._s(t.lastPage)+". "+t._s(t.total)+" sites found.\n            ")])])]),t._v(" "),e("sites-data-view",{attrs:{url:"/web/admin/sites","show-owner":"","site-url-prefix":"/app/admin/sites","show-export-button":!0},on:{load:function(a){return t.setMeta(a)}}})],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"flex-grow-1"},[a("h1",{staticClass:"page-title"},[this._v("Admin Data")])])}],!1,null,"14904a2f",null);a.default=i.exports}}]);
//# sourceMappingURL=admin_sites.js.map?id=0301badc2eb3a6f997c3