(window.webpackJsonp=window.webpackJsonp||[]).push([[31,2],{"1MU1":function(t,e,a){"use strict";var n={name:"ModalBody"},r=a("KHd+"),s=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"modal-body"},[this._t("default")],2)}),[],!1,null,"21f39381",null);e.a=s.exports},"5Rol":function(t,e,a){"use strict";var n=a("mKMH");a.n(n).a},"C+gu":function(t,e,a){"use strict";var n=a("o0o1"),r=a.n(n),s=a("ke3Z"),o=a("MEn4"),i=a("klO2"),l=a("JUFj"),c=a("wXy6"),u=a("1MU1"),p=a("mS+z"),d=a("vQtE"),f=a("yoRh"),m=a("mXro"),v=a("TTxJ"),h=a("cv7c"),g=a("QEud"),_=a.n(g),y=a("wd/R"),b=a.n(y);function x(t,e,a,n,r,s,o){try{var i=t[s](o),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(n,r)}function w(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var s=t.apply(e,a);function o(t){x(s,n,r,o,i,"next",t)}function i(t){x(s,n,r,o,i,"throw",t)}o(void 0)}))}}var C={name:"PlantForm",components:{DatePicker:_.a,InlineSpinner:v.a,Dropdown:m.a,Close:f.a,ModalTitle:d.a,ModalFooter:p.a,ModalBody:u.a,ModalHeader:c.a,ModalCard:l.a,Modal:i.a,Required:o.a,Icon:h.a},props:{plot:{required:!1,type:Object},plant:{required:!1,type:Object}},watch:{speciesSearch:function(){this.loadSpecies()},date:function(t){this.form.date=t?b()(t).format("YYYY-MM-DD"):null},"form.species_id":{handler:function(){this.form.errors.clear("species_id")}},"form.plant_type_id":{handler:function(){this.loadSpecies()}}},data:function(){var t=window.avid.last_entry;return{plants:[],saving:!1,date:t?b()(t).toDate():null,form:new s.a({new_measurement:!1,date:window.avid.last_entry,height:"",new_species:!1,new_species_name:"",plant_type_id:"",tag:"",species_id:"",quadrant:"",total:""}),loadingPlants:!1,loadingSpecies:!1,species:[],speciesSearch:""}},mounted:function(){var t=this;return w(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadTypes();case 2:t.plant&&t.form.setDefault(t.plant);case 3:case"end":return e.stop()}}),e)})))()},methods:{loadTypes:function(){var t=this;return w(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingPlants=!0,e.prev=1,e.next=4,axios.get("/web/plant-types");case 4:return a=e.sent,n=a.data,t.plants=n,t.form.plant_type_id=n[0].id,e.next=10,t.loadSpecies();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.$alert("Unable to load form. Please try refreshing the page.");case 15:t.loadingPlants=!1;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()},loadSpecies:function(){var t=this;return w(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/species",{params:{search:t.speciesSearch,plant_type_id:t.form.plant_type_id}});case 3:a=e.sent,n=a.data,t.total=n.total,t.species=n.data.map((function(t){return{label:t.name,value:t.id}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},save:function(){this.plant?this.update():this.create()},create:function(){var t=this;return w(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.saving=!0,e.prev=1,e.next=4,t.form.post("/web/plots/".concat(t.plot.id,"/plants"));case 4:a=e.sent,n=a.data,t.$emit("create",n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response&&422===e.t0.response.status||t.$notify({text:"Unable to create plant. Please try refreshing the page.",type:"error"}),console.error(e.t0);case 13:t.saving=!1;case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))()},update:function(){var t=this;return w(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.saving=!0,e.prev=1,e.next=4,t.form.put("/web/plants/".concat(t.plant.id));case 4:a=e.sent,n=a.data,t.$emit("update",n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response&&422===e.t0.response.status||t.$notify({text:"Unable to create plant. Please try refreshing the page.",type:"error"}),console.error(e.t0);case 13:t.saving=!1;case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}},k=a("KHd+"),j=Object(k.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{on:{close:function(e){return t.$emit("close")}}},[a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("modal-card",[a("modal-header",[t.plant?t._e():a("modal-title",[t._v("Add A Plant")]),t._v(" "),t.plant?a("modal-title",[t._v("Update Plant #"+t._s(t.plant.tag))]):t._e(),t._v(" "),a("close",{on:{click:function(e){return e.preventDefault(),t.$emit("close")}}})],1),t._v(" "),t.loadingPlants||t.loadingSpecies?a("modal-body",{staticClass:"d-flex justify-content-center align-items-center"},[a("inline-spinner",{staticClass:"text-primary"})],1):t._e(),t._v(" "),t.loadingSpecies||t.loadingPlants?t._e():a("modal-body",{staticClass:"position-static"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"plant"}},[t._v("\n                        Plant Type\n                        "),a("required")],1),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.plant_type_id,expression:"form.plant_type_id"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("plant_type_id")},attrs:{id:"plant",name:"plant_type_id",disabled:t.loadingPlants},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"plant_type_id",e.target.multiple?a:a[0])}}},t._l(t.plants,(function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0),t._v(" "),t.form.errors.has("plant_type_id")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                        "+t._s(t.form.errors.first("plant_type_id"))+"\n                    ")]):t._e()]),t._v(" "),a("div",{staticClass:"row position-static"},[a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"tag-num"}},[t._v("\n                            Tag Number\n                            "),a("required")],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.tag,expression:"form.tag"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("tag")},attrs:{type:"text",id:"tag-num",name:"plant_type_id",placeholder:"Tag #"},domProps:{value:t.form.tag},on:{input:function(e){e.target.composing||t.$set(t.form,"tag",e.target.value)}}}),t._v(" "),t.form.errors.has("tag")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                            "+t._s(t.form.errors.first("tag"))+"\n                        ")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group col-6 position-static"},[a("label",{attrs:{for:"quadrant"}},[t._v("\n                            Quadrant\n                            "),a("required")],1),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.quadrant,expression:"form.quadrant"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("quadrant")},attrs:{name:"quadrant",id:"quadrant"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"quadrant",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select a Quadrant")]),t._v(" "),a("option",{attrs:{value:"Northeast"}},[t._v("Northeast")]),t._v(" "),a("option",{attrs:{value:"Northwest"}},[t._v("Northwest")]),t._v(" "),a("option",{attrs:{value:"Southeast"}},[t._v("Southeast")]),t._v(" "),a("option",{attrs:{value:"Southwest"}},[t._v("Southwest")])]),t._v(" "),t.form.errors.has("quadrant")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                            "+t._s(t.form.errors.first("quadrant"))+"\n                        ")]):t._e()]),t._v(" "),t.form.new_species?t._e():a("div",{staticClass:"form-group col-6 position-static"},[a("label",{attrs:{for:"species"}},[t._v("\n                            Species\n                            "),a("required")],1),t._v(" "),a("dropdown",{staticClass:"mb-1",attrs:{id:"species",autocomplete:!0,lodaing:t.loadingSpecies,options:t.species,error:t.form.errors.has("species_id"),total:t.total},on:{search:function(e){t.speciesSearch=e}},model:{value:t.form.species_id,callback:function(e){t.$set(t.form,"species_id",e)},expression:"form.species_id"}}),t._v(" "),t.form.errors.has("species_id")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                            "+t._s(t.form.errors.first("species_id"))+"\n                        ")]):t._e()],1),t._v(" "),t.form.new_species?a("div",{staticClass:"form-group col-6 flex-column"},[a("label",{attrs:{for:"new-species"}},[t._v("\n                            Species\n                            "),a("required")],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_species_name,expression:"form.new_species_name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("new_species_name")},attrs:{type:"text",id:"new-species",name:"new-species",placeholder:"Species Name"},domProps:{value:t.form.new_species_name},on:{input:function(e){e.target.composing||t.$set(t.form,"new_species_name",e.target.value)}}}),t._v(" "),t.form.errors.has("new_species_name")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                            "+t._s(t.form.errors.first("new_species_name"))+"\n                        ")]):t._e()]):t._e(),t._v(" "),t.form.new_species?a("button",{staticClass:"btn btn-link mt-auto mb-3 ml-3",on:{click:function(e){e.preventDefault(),t.form.new_species=!1}}},[a("span",[t._v("\n                                Cancel Species Creation\n                            ")])]):t._e()]),t._v(" "),t.form.new_species?t._e():a("p",{staticClass:"text-muted"},[t._v("\n                    If you cannot find the species from the dropdown,\n                    "),a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.form.new_species=!0}}},[t._v(" you can click here to create a new one.")])]),t._v(" "),this.plant||t.form.new_measurement?t._e():a("button",{staticClass:"btn btn-link",on:{click:function(e){e.preventDefault(),t.form.new_measurement=!0}}},[a("icon",{attrs:{name:"add"}}),t._v(" "),a("span",[t._v("Add a Measurement")])],1),t._v(" "),!this.plant&&t.form.new_measurement?a("div",{staticClass:"row position-static"},[a("div",{staticClass:"form-group col-lg-6 position-static"},[a("label",[t._v("\n                            Date\n                            "),a("required")],1),t._v(" "),a("date-picker",{attrs:{color:"green","max-date":new Date,"input-props":{class:"form-control"+(t.form.errors.has("date")?" is-invalid":""),placeholder:"Collection Date"}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),t.form.errors.has("date")?a("p",{staticClass:"mb-0 form-text text-danger"},[t._v("\n                            "+t._s(t.form.errors.first("date"))+"\n                        ")]):t._e()],1),t._v(" "),a("div",{staticClass:"form-group col-lg-6"},[a("label",{attrs:{for:"height"}},[t._v("\n                            Height (inches)\n                            "),a("required")],1),t._v(" "),a("div",{staticClass:"input-group input-appended"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.height,expression:"form.height"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("height")},attrs:{id:"height",type:"text",placeholder:"Height"},domProps:{value:t.form.height},on:{input:function(e){e.target.composing||t.$set(t.form,"height",e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("in.")])])]),t._v(" "),t.form.errors.has("height")?a("p",{staticClass:"mb-0 form-text text-danger"},[t._v("\n                            "+t._s(t.form.errors.first("height"))+"\n                        ")]):t._e()])]):t._e(),t._v(" "),t.form.new_measurement?a("button",{staticClass:"btn btn-link",on:{click:function(e){e.preventDefault(),t.form.new_measurement=!1}}},[a("span",[t._v("Cancel Measurement Creation")])]):t._e()]),t._v(" "),a("modal-footer",{staticClass:"d-flex justify-content-between"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.saving}},[t.saving?a("inline-spinner"):t._e(),t._v("\n                    Save\n                ")],1),t._v(" "),a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("close")}}},[t._v("\n                    Cancel\n                ")])])],1)],1)])}),[],!1,null,"0c4f83b3",null);e.a=j.exports},EGv3:function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}a.d(e,"a",(function(){return r}));var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={},void 0!==e&&this.set(e)}var e,a,r;return e=t,(a=[{key:"get",value:function(t){if(this.errors[t])return"string"==typeof this.errors[t]?this.errors[t]:this.errors[t][0]}},{key:"first",value:function(t){return this.get(t)}},{key:"set",value:function(t){this.errors=t.errors}},{key:"clear",value:function(t){this.errors[t]&&delete this.errors[t]}},{key:"has",value:function(t){return this.errors.hasOwnProperty(t)}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"clearAll",value:function(){this.errors={}}},{key:"toArray",value:function(){var t=this,e=[];return Object.keys(this.errors).forEach((function(a){t.errors[a].forEach((function(t){return e.push(t)}))})),e}}])&&n(e.prototype,a),r&&n(e,r),t}()},Igho:function(t,e,a){var n=a("gcIj");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},J17W:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".max-vh[data-v-65ec0403]{max-height:93vh}.bg-transparent-dark[data-v-65ec0403]{background-color:rgba(0,0,0,.7)}",""])},JUFj:function(t,e,a){"use strict";var n={name:"ModalCard"},r=a("KHd+"),s=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"modal-content shadow-lg border-0"},[this._t("default")],2)}),[],!1,null,"bf90aa66",null);e.a=s.exports},KBkZ:function(t,e,a){"use strict";var n=a("Igho");a.n(n).a},MDqS:function(t,e,a){"use strict";var n=a("O81o");a.n(n).a},MEn4:function(t,e,a){"use strict";var n={name:"Required"},r=a("KHd+"),s=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("sup",{staticClass:"text-danger"},[this._v("*")])}),[],!1,null,"53582911",null);e.a=s.exports},O81o:function(t,e,a){var n=a("xpc6");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},Ol2u:function(t,e,a){"use strict";e.a={seasons:["0","1 to 2","Greater than or equal to 3"],percentages:["0-9%","10-19%","20-29%","30-39%","40-49%","50-59%","60-69%","70-79%","80-89%","90-100%"],hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],minutes:["00","05","10","15","20","25","30","35","40","45","50","55"],timezones:["EST","CST","MST","PST"],wmus:["1A","1C","2A","3A","3C","3F","3G","3H","3J","3K","3M","3N","3P","3R","3S","4A","4B","4C","4F","4G","4H","4J","4K","4L","4O","4P","4R","4S","4T","4U","4W","4Y","4Z","5A","5C","5F","5G","5H","5J","5R","5S","5T","6A","6C","6F","6G","6H","6J","6K","6N","6P","6R","6S","7A","7F","7H","7J","7M","7P","7R","7S","8A","8C","8F","8G","8H","8J","8M","8N","8P","8R","8S","8T","8W","8X","8Y","9A","9C","9F","9G","9H","9J","9K","9M","9N","9P","9R"," 9S","9T","9W","9X","9Y"]}},RnhZ:function(t,e,a){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="RnhZ"},S1co:function(t,e,a){"use strict";a.r(e);var n=a("o0o1"),r=a.n(n),s=a("mXro"),o=a("cv7c"),i=a("gdrP"),l=a("C+gu"),c=a("TTxJ");function u(t,e,a,n,r,s,o){try{var i=t[s](o),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(n,r)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var s=t.apply(e,a);function o(t){u(s,n,r,o,i,"next",t)}function i(t){u(s,n,r,o,i,"throw",t)}o(void 0)}))}}var d={name:"DataQuarantine",components:{Dropdown:s.a,PlotForm:i.a,PlantForm:l.a,Icon:o.a,InlineSpinner:c.a},mounted:function(){this.loadSites()},watch:{site:function(){this.loadPlots()}},data:function(){return{plot:null,plant:null,plots:[],sites:[],site:"",loading:!1,showPlotForm:!1,showPlantForm:!1,deleting:null,importing:null}},methods:{loadSites:function(){var t=this;return p(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingSites=!0,e.prev=1,e.next=4,axios.get("/web/data-quarantine/sites");case 4:a=e.sent,n=a.data,t.sites=n,""===t.site&&n.length>0&&(t.site=t.sites[0].id),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t.$alert("Unable to load sites. Please try refreshing the page or contact us."),console.error(e.t0);case 14:t.loadingSites=!1;case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))()},loadPlots:function(){var t=this;return p(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,axios.get("/web/data-quarantine/sites/".concat(t.site));case 4:a=e.sent,n=a.data,t.plots=n,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.$alert("Unable to load sites. Please try refreshing the page or contact us."),console.error(e.t0);case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))()},editPlot:function(t){this.plot=t,this.showPlotForm=!0},plotUpdated:function(t){var e=this.plots.filter((function(e){return e.id===t.id}))[0].plants;t.is_incomplete=!1,t.plants=e,this.plots=this.plots.map((function(e){return e.id===t.id?t:e})),this.showPlotForm=!1},importPlot:function(t){var e=this;return p(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null===e.importing){a.next=2;break}return a.abrupt("return");case 2:e.$confirm({title:"Are you sure you want to import Plot #".concat(t.number,"?"),text:"This action is permanent!",onConfirm:function(){var a=p(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.importing=t.id,a.prev=1,a.next=4,axios.patch("/web/data-quarantine/import/plot/".concat(t.id));case 4:e.loadPlots(),e.$notify({text:"Plot imported successfully.",type:"success"}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),e.$notify({text:"Unable to import plot. Please try refreshing the page.",type:"error"}),console.error(a.t0);case 12:e.importing=null;case 13:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return a.apply(this,arguments)}}()});case 3:case"end":return a.stop()}}),a)})))()},deletePlot:function(t){var e,a=this;null===this.deleting&&this.$confirm({title:"Are you sure you want to delete Plot #".concat(t.number,"?"),text:"This action is permanent!",onConfirm:(e=p(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.deleting=t.id,e.prev=1,e.next=4,axios.delete("/web/plots/".concat(t.id));case 4:a.loadPlots(),a.$notify({text:"Plot deleted successfully.",type:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),a.$notify({text:"Unable to delete plot. Please try refreshing the page.",type:"error"});case 12:a.deleting=null;case 13:case"end":return e.stop()}}),e,null,[[1,8]])}))),function(){return e.apply(this,arguments)})})},plantUpdated:function(t){t.is_incomplete=!1;var e=this.plots.filter((function(e){return e.id===t.plot_id}))[0];e.plants=e.plants.map((function(e){return e.id===t.id?t:e})),this.plots=this.plots.map((function(a){return a.id===t.plot_id?e:a})),this.showPlantForm=!1},editPlant:function(t){this.plant=t,this.showPlantForm=!0},deletePlant:function(t){var e,a=this;null===this.deleting&&this.$confirm({title:"Are you sure you want to delete Plant #".concat(t.tag,"?"),text:"This action is permanent!",onConfirm:(e=p(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.deleting=t.id,e.prev=1,e.next=4,axios.delete("/web/plants/".concat(t.id));case 4:a.loadPlots(),a.$notify({text:"Plant deleted successfully.",type:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.$notify({text:"Unable to delete plant. Please try refreshing the page.",type:"error"});case 11:a.deleting=null;case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),function(){return e.apply(this,arguments)})})},importPlant:function(t){var e=this;return p(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null===e.importing){a.next=2;break}return a.abrupt("return");case 2:e.$confirm({title:"Are you sure you want to import Plant #".concat(t.tag,"?"),text:"This action is permanent!",onConfirm:function(){var a=p(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.importing=t.id,a.prev=1,a.next=4,axios.patch("/web/data-quarantine/import/plant/".concat(t.id));case 4:e.loadPlots(),e.$notify({text:"Plant imported successfully.",type:"success"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e.$notify({text:"Unable to import plant. Please try refreshing the page.",type:"error"});case 11:e.importing=null;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return a.apply(this,arguments)}}()});case 3:case"end":return a.stop()}}),a)})))()},getPlantDisabledTooltip:function(t,e){return e.is_incomplete?"Plant information is incomplete":t.is_quarantined?"Plot must be imported first":""}}},f=a("KHd+"),m=Object(f.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"card"},[0!==t.sites.length?a("div",{staticClass:"card-header d-flex"},[a("div",{staticClass:"flex-shrink-0"},[a("dropdown",{staticClass:"bg-white",attrs:{options:t.sites.map((function(t){return{label:t.name,value:t.id}}))},model:{value:t.site,callback:function(e){t.site=e},expression:"site"}})],1)]):t._e(),t._v(" "),a("div",{staticClass:"card-body px-4 py-2"},[0===t.plots.length?a("p",{staticClass:"mb-0 p-4 text-muted"},[t._v("\n        No quarantined data exists.\n      ")]):t._l(t.plots,(function(e){return a("div",[a("div",{staticClass:"d-flex"},[a("span",{staticClass:"page-title mb-2 mr-2"},[t._v("Plot #"+t._s(e.number))]),t._v(" "),e.is_quarantined?a("div",[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Edit Plot",expression:"'Edit Plot'"}],staticClass:"btn btn-link btn-sm mr-1",on:{click:function(a){return a.preventDefault(),t.editPlot(e)}}},[a("icon",{attrs:{name:"create"}})],1),t._v(" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete Plot",expression:"'Delete Plot'"}],staticClass:"btn btn-link btn-sm mr-1",on:{click:function(a){return a.preventDefault(),t.deletePlot(e)}}},[t.deleting!==e.id?a("icon",{attrs:{name:"trash"}}):a("inline-spinner")],1),t._v(" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Import Plot",expression:"'Import Plot'"}],staticClass:"btn btn-link btn-sm mr-1",attrs:{disabled:e.is_incomplete},on:{click:function(a){return a.preventDefault(),t.importPlot(e)}}},[a("icon",{attrs:{name:"cloud-upload-outline"}})],1)]):t._e()]),t._v(" "),a("table",{staticClass:"table"},[t._m(1,!0),t._v(" "),a("tbody",t._l(e.plants,(function(n){return a("tr",[a("td",{class:{"text-danger":n.is_incomplete}},[t._v("#"+t._s(n.tag))]),t._v(" "),a("td",{staticClass:"text-right no-wrap"},[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Edit Plant",expression:"'Edit Plant'"}],staticClass:"btn btn-link btn-sm mr-1",on:{click:function(e){return e.preventDefault(),t.editPlant(n)}}},[a("icon",{attrs:{name:"create"}})],1),t._v(" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete Plant",expression:"'Delete Plant'"}],staticClass:"btn btn-link btn-sm mr-1",on:{click:function(e){return e.preventDefault(),t.deletePlant(n)}}},[t.deleting!==n.id?a("icon",{attrs:{name:"trash"}}):a("inline-spinner")],1),t._v(" "),a("span",{staticClass:"d-inline-block",attrs:{"data-toggle":"tooltip",title:t.getPlantDisabledTooltip(e,n)}},[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Import Plant",expression:"'Import Plant'"}],staticClass:"btn btn-link btn-sm mr-1",attrs:{disabled:n.is_incomplete||e.is_quarantined},on:{click:function(e){return e.preventDefault(),t.importPlant(n)}}},[a("icon",{attrs:{name:"cloud-upload-outline"}})],1)])])])})),0)])])}))],2)]),t._v(" "),t.showPlotForm?a("plot-form",{attrs:{site:t.sites.filter((function(e){return e===t.site}))[0],plot:t.plot},on:{update:function(e){return t.plotUpdated(e)},close:function(e){t.showPlotForm=!1}}}):t._e(),t._v(" "),t.showPlantForm?a("plant-form",{attrs:{plant:t.plant},on:{close:function(e){t.showPlantForm=!1},update:function(e){return t.plantUpdated(e)}}}):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-3"},[e("span",{staticClass:"page-title"},[this._v("Data Quarantine")]),this._v(" "),e("div",{staticClass:"text-muted"},[this._v("\n      Entries from spreadsheet importing that require additional information will show up here.\n      After filling out the requisite information, these entries will be added to your sites.\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[this._v("Tag")]),this._v(" "),e("tr")])}],!1,null,"d9791b9e",null);e.default=m.exports},"ce6+":function(t,e,a){"use strict";a.r(e);var n=a("o0o1"),r=a.n(n),s=a("mBzz"),o=a("TTxJ"),i=a("mXro"),l=a("cv7c"),c=a("+Gql"),u=a("EyHm"),p=a.n(u),d=a("Ol2u");function f(t,e,a,n,r,s,o){try{var i=t[s](o),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(n,r)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var s=t.apply(e,a);function o(t){f(s,n,r,o,i,"next",t)}function i(t){f(s,n,r,o,i,"throw",t)}o(void 0)}))}}var v={name:"Statistics",components:{ApexChart:p.a,InlineSpinner:o.a,TokensField:s.a,Dropdown:i.a,Icon:l.a},mounted:function(){this.setChartDefault(),this.loadSites(),this.loadPlots(),this.loadTypes(),this.loadSpecies(),this.loadStates(),this.loadChart(),this.loadGroups()},watch:{sites:function(){this.loadChart(),this.loadPlots()},plots:function(){this.loadChart()},types:function(){this.loadChart(),this.loadSpecies()},species:function(){this.loadChart()},state:function(){this.loadChart()},stateSearch:function(){this.loadStates()},county:function(){this.loadChart()},countySearch:function(){this.loadCounties()},protection:function(){this.loadChart()},dataType:function(){this.sites=[],this.plots=[],this.loadChart(),this.loadSites(),this.loadPlots()},group:function(){this.loadChart()},groupSearch:function(){this.loadGroups()},wmu:function(){this.loadChart()},yearsFilter:function(){this.loadChart()}},data:function(){return{User:c.a,chart:null,loading:!1,siteOptions:[],plotOptions:[],typeOptions:[],speciesOptions:[],stateOptions:[],countyOptions:[],groups:[],sites:[],plots:[],types:[],species:[],years:[],yearsFilter:[],stateSearch:"",countySearch:"",groupSearch:"",protection:"",dataType:"owned",wmu:"",state:null,county:null,group:null,_request:null,options:d.a}},methods:{loadGroups:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/groups",{params:{search:t.groupSearch}});case 3:a=e.sent,n=a.data,t.groups=n.data.map((function(t){return{label:t.name,value:t.id}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.$alert("Unable to load groups. Please try refreshing the page or contact us."),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadTypes:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/plant-types");case 3:a=e.sent,n=a.data,t.typeOptions=n.map((function(t){return{id:t.id,text:t.name}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$alert("Unable to load plants. Please try refreshing the page.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadSpecies:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.species=[],e.prev=1,e.next=4,axios.get("/web/statistics/species",{params:{types:t.types}});case 4:a=e.sent,n=a.data,t.speciesOptions=n.map((function(t){return{id:t.id,text:t.name}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.$alert("Unable to load species. Please try refreshing the page.");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},loadSites:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/statistics/sites",{params:{data_type:t.dataType}});case 3:a=e.sent,n=a.data,t.siteOptions=n.map((function(t){return{id:t.id,text:t.name}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.$alert("Unable to load sites. Please try refreshing the page or contact us."),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadStates:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/states",{params:{search:t.stateSearch}});case 3:a=e.sent,n=a.data,t.stateOptions=n.data.map((function(t){return{label:"".concat(t.name," (").concat(t.code,")"),value:t.id,search:t.name}})),t.state&&t.loadCounties(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t.$alert("Unable to load states. Please try refreshing the page or contact us."),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},loadCounties:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/web/counties",{params:{state_id:t.state,search:t.countySearch}});case 3:a=e.sent,n=a.data,t.countyOptions=n.data.map((function(t){return{label:t.name,value:t.id}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.$alert("Unable to load counties. Please try refreshing the page or contact us."),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadPlots:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.plots=[],e.prev=1,e.next=4,axios.get("/web/statistics/plots",{params:{data_type:t.dataType,sites:t.sites}});case 4:a=e.sent,n=a.data,t.plotOptions=n.map((function(t){return{id:t.id,text:t.name}})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.$alert("Unable to load plots. Please try refreshing the page or contact us."),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},loadChart:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._request&&t._request(),t.loading=!0,e.prev=2,e.next=5,axios.get("/web/statistics/chart",{params:{sites:t.sites,plots:t.plots,types:t.types,species:t.species,state:t.state,county:t.county,data_type:t.dataType,group:t.group,wmu:t.wmu,protection:t.protection,years_filter:t.yearsFilter}});case 5:a=e.sent,0!==(n=a.data).length?t.setChart(n):t.setChartDefault(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),axios.isCancel()||(t.$alert("Unable to load sites. Please try refreshing the page or contact us."),console.error(e.t0));case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()},setChartDefault:function(){this.chart={options:{chart:{id:"sites-chart",toolbar:{show:!1}},xaxis:{labels:{show:!1}},yaxis:{title:{text:"Annual Height (inches)",style:{fontSize:14}}},noData:{text:"No measurements found."}},series:[{name:"protected",data:[]},{name:"unprotected",data:[]}]}},setChart:function(t){var e=[];void 0===t.data[0].unprotected?e.push({name:"protected",data:t.data[0].protected}):e.push({name:"unprotected",data:t.data[0].unprotected}),2===t.data.length&&e.push({name:"unprotected",data:t.data[1].unprotected}),this.years=t.years,this.chart={options:{chart:{id:"sites-chart",toolbar:{show:!1}},xaxis:{labels:{show:!0},categories:t.xaxis},yaxis:{title:{text:"Annual Height (inches)",style:{fontSize:14}}},colors:["#54A7FB","#14CA7E"],dataLabels:{formatter:function(e,a){var n=a.seriesIndex,r=a.dataPointIndex;return[e,"N=".concat(t.data[n].count[r])]},style:{colors:["#2D3748"]}},noData:{text:"No measurements found."}},series:e}},selectState:function(){this.state&&this.loadCounties(),this.$refs.county.clear()},clearState:function(){this.$refs.county.clear(),this.$refs.state.clear()},filterYear:function(t){this.yearsFilter.includes(t)?this.yearsFilter=this.yearsFilter.filter((function(e){return e!==t})):this.yearsFilter.push(t)}}},h=a("KHd+"),g=Object(h.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Data Type\n                            ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dataType,expression:"dataType"}],staticClass:"form-control",attrs:{name:"data-type",id:"data-type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.dataType=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"owned"}},[t._v("My Sites Only")]),t._v(" "),t.User.can("view sites")?a("option",{attrs:{value:"admin"}},[t._v("All Sites")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Group\n                            ")]),t._v(" "),a("div",{staticClass:"d-flex"},[a("dropdown",{ref:"group",staticClass:"flex-grow-1",attrs:{autocomplete:"",options:t.groups,placeholder:"Select a group"},on:{search:function(e){t.groupSearch=e}},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}}),t._v(" "),null!==t.group?a("a",{staticClass:"btn btn-link p-1 ml-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$refs.group.clear()}}},[t._v("\n                                    Clear\n                                ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Sites\n                            ")]),t._v(" "),a("tokens-field",{attrs:{id:"sites",options:t.siteOptions,placeholder:"Showing all sites"},model:{value:t.sites,callback:function(e){t.sites=e},expression:"sites"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Plots\n                            ")]),t._v(" "),a("tokens-field",{attrs:{id:"plots",options:t.plotOptions,placeholder:"Showing all plots"},model:{value:t.plots,callback:function(e){t.plots=e},expression:"plots"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Site Protection\n                            ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.protection,expression:"protection"}],staticClass:"form-control",attrs:{name:"protection",id:"protection"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.protection=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("All sites")]),t._v(" "),a("option",{attrs:{value:"both"}},[t._v("Sites with protected and unprotected plots")]),t._v(" "),a("option",{attrs:{value:"unprotected"}},[t._v("Sites with unprotected plots only")])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Plant Types\n                            ")]),t._v(" "),a("tokens-field",{attrs:{id:"types",options:t.typeOptions,placeholder:"Showing all types"},model:{value:t.types,callback:function(e){t.types=e},expression:"types"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Species\n                            ")]),t._v(" "),a("tokens-field",{attrs:{id:"species",options:t.speciesOptions,placeholder:"Showing all species"},model:{value:t.species,callback:function(e){t.species=e},expression:"species"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                State\n                            ")]),t._v(" "),a("div",{staticClass:"d-flex"},[a("dropdown",{ref:"state",staticClass:"flex-grow-1",attrs:{autocomplete:"",options:t.stateOptions,placeholder:"Select a state"},on:{input:function(e){return t.selectState(e)},search:function(e){t.stateSearch=e}},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),t._v(" "),null!==t.state?a("a",{staticClass:"btn btn-link p-1 ml-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clearState()}}},[t._v("\n                                    Clear\n                                ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                County\n                            ")]),t._v(" "),a("div",{staticClass:"d-flex"},[a("dropdown",{ref:"county",staticClass:"flex-grow-1",attrs:{autocomplete:"",placeholder:null===t.state?"Select a state first":"Select a County",options:t.countyOptions,disabled:null===t.state},on:{search:function(e){t.countySearch=e}},model:{value:t.county,callback:function(e){t.county=e},expression:"county"}}),t._v(" "),null!==t.county?a("a",{staticClass:"btn btn-link p-1 ml-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$refs.county.clear()}}},[t._v("\n                                    Clear\n                                ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n                                Wildlife Management Unit\n                            ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.wmu,expression:"wmu"}],staticClass:"form-control",attrs:{name:"wmu",id:"wmu"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.wmu=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Show all units")]),t._v(" "),t._l(t.options.wmus,(function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))],2)])])])]),t._v(" "),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex"},[a("h1",{staticClass:"mr-2 page-title"},[t._v("Annual Heights")]),t._v(" "),t.loading?a("inline-spinner"):t._e()],1),t._v(" "),t.chart?a("div",{staticClass:"mr-4 card-body"},[a("apex-chart",{ref:"chart",attrs:{type:"bar",options:t.chart.options,series:t.chart.series}})],1):t._e(),t._v(" "),a("div",{staticClass:"card-body"},[t._m(1),t._v(" "),a("p",{staticClass:"text-muted"},[t._v("Unchecked years will be excluded from the chart")]),t._v(" "),a("div",{staticClass:"d-flex flex-wrap"},t._l(t.years,(function(e,n){return a("div",{staticClass:"align-items-center"},[a("div",{staticClass:"mb-2 mr-3 custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"year-"+n,name:"role-select"},domProps:{value:e,checked:!t.yearsFilter.includes(e)},on:{change:function(a){return t.filterYear(e)}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"year-"+n}},[t._v("\n                            "+t._s(e)+"\n                          ")])])])})),0)])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h1",{staticClass:"page-title"},[this._v("Filters")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("strong",[this._v("Filter by Year")])])}],!1,null,"309b4caf",null);e.default=g.exports},gcIj:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".close[data-v-7a28cdfc]{right:20px;top:50%;margin-top:-25px}",""])},gdrP:function(t,e,a){"use strict";var n=a("o0o1"),r=a.n(n),s=a("klO2"),o=a("JUFj"),i=a("wXy6"),l=a("1MU1"),c=a("mS+z"),u=a("vQtE"),p=a("yoRh"),d=a("ke3Z"),f=a("MEn4"),m=a("cv7c"),v=a("Ol2u"),h=a("TTxJ");function g(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,a,n;return e=t,n=[{key:"load",value:function(e){return(new t).loadMap(e)}}],(a=[{key:"loadMap",value:function(t){if(window.google&&window.google.maps)t();else{var e=document.createElement("script"),a=window.avid.keys.maps;e.async=!0,e.defer=!0,e.type="text/javascript",e.onload=t,e.src="https://maps.googleapis.com/maps/api/js?key=".concat(a),document.head.appendChild(e)}}}])&&g(e.prototype,a),n&&g(e,n),t}(),y={name:"ClickableMap",props:{value:{required:!1,type:Object,default:function(){return{latitude:40.354388,longitude:-95.998237}}}},mounted:function(){var t=this,e={latitude:40.354388,longitude:-95.998237};this.value.latitude&&this.value.longitude&&(e=this.value),_.load((function(){var a=new google.maps.LatLng(e.latitude,e.longitude);t.map=new google.maps.Map(t.$refs.map,{zoom:4,center:a}),t.updateTimeout=null,t.map.addListener("click",(function(e){t.updateTimeout=setTimeout((function(){return t.selectLocation(e)}),200)})),t.map.addListener("dblclick",(function(){clearTimeout(t.updateTimeout)}))})),this.value.latitude&&this.value.longitude&&(this.marker=new google.maps.Marker({map:this.map,position:new google.maps.LatLng(e.latitude,e.longitude)}))},data:function(){return{pos:{latitude:40.354388,longitude:-95.998237},map:null,marker:null,updateTimeout:null}},watch:{"value.latitude":{handler:function(){this.setMarkerPosition(),this.panTo()}},"value.longitude":{handler:function(){this.setMarkerPosition(),this.panTo()}}},methods:{selectLocation:function(t){var e=t.latLng;this.$emit("input",{latitude:e.lat(),longitude:e.lng()})},setMarkerPosition:function(){var t=this.value,e=this.marker&&this.marker.getPosition();if(e){var a=e.lng(),n=e.lng();t.latitude===a&&t.longitude===n||this.marker.setPosition(new google.maps.LatLng(t.latitude,t.longitude))}else this.marker=new google.maps.Marker({map:this.map,position:new google.maps.LatLng(t.latitude,t.longitude)})},panTo:function(){var t=this.value;t.latitude&&t.longitude&&this.map.panTo(new google.maps.LatLng(t.latitude,t.longitude))}}},b=a("KHd+");function x(t,e,a,n,r,s,o){try{var i=t[s](o),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(n,r)}function w(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var s=t.apply(e,a);function o(t){x(s,n,r,o,i,"next",t)}function i(t){x(s,n,r,o,i,"throw",t)}o(void 0)}))}}var C={name:"PlotForm",components:{ClickableMap:Object(b.a)(y,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"map",staticStyle:{height:"100px"}})}),[],!1,null,"e5b1aa0e",null).exports,InlineSpinner:h.a,Icon:m.a,Required:f.a,Close:p.a,ModalTitle:u.a,ModalFooter:c.a,ModalBody:l.a,ModalHeader:i.a,ModalCard:o.a,Modal:s.a},props:{site:{required:!1},plot:{required:!1,type:Object,default:null}},data:function(){return{loading:!1,form:new d.a({number:"",latitude:null,longitude:null,basal_area:"",ground_cover:"",subcanopy:"",canopy:"",is_protected:"",protection_seasons:"",recorders:""}),options:v.a,showMap:!1}},mounted:function(){this.plot&&this.form.setDefault(this.plot)},methods:{submit:function(){this.plot?this.update():this.create()},create:function(){var t=this;return w(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.form.post("/web/sites/".concat(t.site.id,"/plots"));case 4:a=e.sent,n=a.data,t.$notify({type:"success",text:"Plot created successfully"}),t.$emit("create",n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response&&422===e.t0.response.status||(t.$notify({type:"error",text:"Unable to process the request. Please try refreshing the page."}),console.error(e.t0));case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},update:function(){var t=this;return w(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.form.put("/web/plots/".concat(t.plot.id));case 4:a=e.sent,n=a.data,t.$notify({type:"success",text:"Plot updated successfully"}),t.$emit("update",n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response&&422===e.t0.response.status||(t.$notify({type:"error",text:"Unable to process the request. Please try refreshing the page."}),console.error(e.t0));case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},setGpsFromMap:function(t){this.form.latitude=t.latitude,this.form.longitude=t.longitude}}},k=Object(b.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{medium:""},on:{close:function(e){return t.$emit("close")}}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()},keydown:function(e){e.target&&t.form.errors.clear(e.target.name)}}},[a("modal-card",[a("modal-header",[t.plot?a("modal-title",[t._v('Edit "Plot '+t._s(t.plot.number)+'"')]):a("modal-title",[t._v("New Plot")]),t._v(" "),a("close",{on:{click:function(e){return t.$emit("close")}}})],1),t._v(" "),a("modal-body",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"number"}},[t._v("\n                        Plot Number\n                        "),a("required")],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.number,expression:"form.number"}],class:["form-control",{"is-invalid":t.form.errors.has("number")}],attrs:{type:"text",name:"number",id:"number",placeholder:"E,g. 36"},domProps:{value:t.form.number},on:{input:function(e){e.target.composing||t.$set(t.form,"number",e.target.value)}}}),t._v(" "),t.form.errors.has("number")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                        "+t._s(t.form.errors.first("number"))+"\n                    ")]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("div",{staticClass:"d-flex align-items-center mb-1"},[a("div",[a("p",{staticClass:"mb-0"},[a("strong",[t._v("GPS Location")])]),t._v(" "),a("div",{staticClass:"mb-0"},[a("small",{staticClass:"text-muted"},[t._v("You may use the map to visually select the location.")])])])]),t._v(" "),a("div",{staticClass:"mb-2 form-group"},[a("label",{attrs:{for:"latitude"}},[t._v("\n                                Latitude\n                                "),a("required")],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.latitude,expression:"form.latitude"}],class:["form-control",{"is-invalid":t.form.errors.has("latitude")}],attrs:{type:"text",name:"latitude",id:"latitude",placeholder:"E,g. -36.898723"},domProps:{value:t.form.latitude},on:{input:function(e){e.target.composing||t.$set(t.form,"latitude",e.target.value)}}}),t._v(" "),t.form.errors.has("latitude")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                                "+t._s(t.form.errors.first("latitude"))+"\n                            ")]):t._e()]),t._v(" "),a("div",{staticClass:"mb-0 form-group"},[a("label",{attrs:{for:"longitude"}},[t._v("\n                                Longitude\n                                "),a("required")],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.longitude,expression:"form.longitude"}],class:["form-control",{"is-invalid":t.form.errors.has("longitude")}],attrs:{type:"text",name:"longitude",id:"longitude",placeholder:"E,g. -36.898723"},domProps:{value:t.form.longitude},on:{input:function(e){e.target.composing||t.$set(t.form,"longitude",e.target.value)}}}),t._v(" "),t.form.errors.has("longitude")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                                "+t._s(t.form.errors.first("longitude"))+"\n                            ")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("small",{staticClass:"text-muted"},[t._v("When entering coordinates manually, please verify the location on the map")])])]),t._v(" "),a("div",{staticClass:"col-7"},[a("clickable-map",{staticClass:"map-height map-mini mb-3",attrs:{value:{latitude:t.form.latitude,longitude:t.form.longitude}},on:{input:function(e){return t.setGpsFromMap(e)}}})],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"ground_cover"}},[t._v("\n                        Ground and Shrub Cover\n                        "),a("required")],1),t._v(" "),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.ground_cover,expression:"form.ground_cover"}],class:["form-control",{"is-invalid":t.form.errors.has("ground_cover")}],attrs:{type:"text",name:"ground_cover",id:"ground_cover"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"ground_cover",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select an Option")]),t._v(" "),t._l(t.options.percentages,(function(e){return a("option",{domProps:{value:e}},[t._v("\n                                "+t._s(e)+"\n                            ")])}))],2)]),t._v(" "),t.form.errors.has("ground_cover")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                        "+t._s(t.form.errors.first("ground_cover"))+"\n                    ")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"subcanopy"}},[t._v("\n                        Subcanopy\n                        "),a("required")],1),t._v(" "),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.subcanopy,expression:"form.subcanopy"}],class:["form-control",{"is-invalid":t.form.errors.has("subcanopy")}],attrs:{type:"text",name:"subcanopy",id:"subcanopy"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"subcanopy",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select an Option")]),t._v(" "),t._l(t.options.percentages,(function(e){return a("option",{domProps:{value:e}},[t._v("\n                                "+t._s(e)+"\n                            ")])}))],2)]),t._v(" "),t.form.errors.has("subcanopy")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                        "+t._s(t.form.errors.first("subcanopy"))+"\n                    ")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"canopy"}},[t._v("\n                        Canopy\n                        "),a("required")],1),t._v(" "),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.canopy,expression:"form.canopy"}],class:["form-control",{"is-invalid":t.form.errors.has("canopy")}],attrs:{type:"text",name:"canopy",id:"canopy"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"canopy",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select an Option")]),t._v(" "),t._l(t.options.percentages,(function(e){return a("option",{domProps:{value:e}},[t._v("\n                                "+t._s(e)+"\n                            ")])}))],2)]),t._v(" "),t.form.errors.has("canopy")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                        "+t._s(t.form.errors.first("canopy"))+"\n                    ")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"is_protected"}},[t._v("\n                        Is plot enclosed or protected from deer?\n                        "),a("required")],1),t._v(" "),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.is_protected,expression:"form.is_protected"}],class:["form-control",{"is-invalid":t.form.errors.has("is_protected")}],attrs:{type:"text",name:"is_protected",id:"is_protected"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"is_protected",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select an Option")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("Yes")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("No")])])]),t._v(" "),t.form.errors.has("is_protected")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                        "+t._s(t.form.errors.first("is_protected"))+"\n                    ")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"protection_seasons"}},[t._v("\n                        If yes, for how many growing seasons?\n                        "),a("required")],1),t._v(" "),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.protection_seasons,expression:"form.protection_seasons"}],class:["form-control",{"is-invalid":t.form.errors.has("protection_seasons")}],attrs:{type:"text",name:"protection_seasons",id:"protection_seasons"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"protection_seasons",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select an Option")]),t._v(" "),t._l(t.options.seasons,(function(e){return a("option",{domProps:{value:e}},[t._v("\n                                "+t._s(e)+"\n                            ")])}))],2)]),t._v(" "),t.form.errors.has("protection_seasons")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                        "+t._s(t.form.errors.first("protection_seasons"))+"\n                    ")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"recorders"}},[t._v("Recorders")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.recorders,expression:"form.recorders"}],staticClass:"form-control",attrs:{type:"text",name:"recorders",id:"recorders",placeholder:"Type recorders"},domProps:{value:t.form.recorders},on:{input:function(e){e.target.composing||t.$set(t.form,"recorders",e.target.value)}}}),t._v(" "),t.form.errors.has("owner_contact")?a("span",{staticClass:"form-text text-danger"},[t._v("\n                        "+t._s(t.form.errors.first("owner_contact"))+"\n                    ")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"basal_area"}},[t._v("\n                        Basal Area\n                    ")]),t._v(" "),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.basal_area,expression:"form.basal_area"}],class:["form-control",{"is-invalid":t.form.errors.has("basal_area")}],attrs:{type:"text",name:"basal_area",id:"basal_area",placeholder:"E,g. 36"},domProps:{value:t.form.basal_area},on:{input:function(e){e.target.composing||t.$set(t.form,"basal_area",e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("\n                                ft"),a("sup",[t._v("2")]),t._v("/ac\n                            ")])])]),t._v(" "),t.form.errors.has("basal_area")?a("small",{staticClass:"form-text text-danger"},[t._v("\n                        "+t._s(t.form.errors.first("basal_area"))+"\n                    ")]):t._e()])]),t._v(" "),a("modal-footer",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.loading}},[t.loading?a("inline-spinner"):t._e(),t._v("\n                    Save\n                ")],1),t._v(" "),a("button",{staticClass:"btn btn-light ml-auto",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("close")}}},[t._v("Close")])])],1)],1)])}),[],!1,null,"4021509e",null);e.a=k.exports},ke3Z:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a("EGv3");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e){for(var a in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors=new n.a,this.originalData=e,this._multipart=!1,this.fileFields=[],this.onProgressCallback=function(t){},e)e.hasOwnProperty(a)&&(this[a]=e[a])}var e,a,r;return e=t,(a=[{key:"multipart",value:function(t){this._multipart=void 0===t||t}},{key:"keydown",value:function(t){var e=t.target.name;void 0!==e&&void 0!==this[e]&&this.errors.clear(e)}},{key:"onProgressChange",value:function(t){if("function"!=typeof t)throw new n.a("The function onProgressChange only accepts a function as a parameters");this.onProgressCallback=t}},{key:"data",value:function(t){var e={};for(var a in this.originalData)this.originalData.hasOwnProperty(a)&&(e[a]=this[a]);if(t)for(var n in t)this.originalData.hasOwnProperty(n)&&(e[n]=t[n]);if(this._multipart){var r=new FormData;for(var s in e)e.hasOwnProperty(s)&&(this.isFileField(s)&&FileList&&e[s]instanceof FileList?r.append(s,null===e[s][0]?"":e[s][0]):r.append(s,null===e[s]?"":e[s]));return r}return e}},{key:"isFileField",value:function(t){return this.fileFields.indexOf(t)>-1}},{key:"reset",value:function(){for(var t in this.originalData)this.originalData.hasOwnProperty(t)&&(this[t]=this.originalData[t]);this.errors.clearAll()}},{key:"post",value:function(t,e){return this.submit("post",t,e)}},{key:"put",value:function(t,e){return this.submit("put",t,e)}},{key:"get",value:function(t,e){return this.submit("get",t,e)}},{key:"delete",value:function(t,e){return this.submit("delete",t,e)}},{key:"patch",value:function(t,e){return this.submit("patch",t,e)}},{key:"headers",value:function(){var t={};return this._multipart&&(t["Content-Type"]="multipart/form-data"),t}},{key:"setAsFile",value:function(t){this.isFileField(t)||(this.multipart(!0),this.fileFields.push(t))}},{key:"setAsNotFile",value:function(t){this.fileFields=this.fileFields.filter((function(e){return e!==t})),0===this.fileFields.length&&this.multipart(!1)}},{key:"config",value:function(){return{onUploadProgress:this.onProgressCallback}}},{key:"submit",value:function(t,e,a){var n=this;if(0===e.length)throw new Error("Please provide a valid URL");if(this._multipart&&"post"!==t)throw new Error("Form is set to be multipart but request method is ".concat(t,". Method should be changed to post."));var r=this.headers(),o=this.config();return new Promise((function(i,l){axios[t](e,n.data(a),s(s({},o),{},{headers:r})).then((function(t){i(t)})).catch((function(t){n.onFail(t),l(t)}))}))}},{key:"onFail",value:function(t){t.response&&422===t.response.status&&this.errors.set(t.response.data)}},{key:"setDefault",value:function(t){for(var e in this.originalData){if(!this.originalData.hasOwnProperty(e))return;null!==t[e]?"undefined"!==t[e]&&(this[e]=t[e]):this[e]=null!==this.originalData[e]?this.originalData[e]:null}}}])&&i(e.prototype,a),r&&i(e,r),t}()},klO2:function(t,e,a){"use strict";var n={name:"Modal",props:{large:{type:Boolean,required:!1,default:!1},medium:{type:Boolean,required:!1,default:!1}},data:function(){return{mounted:!1}}},r=(a("5Rol"),a("KHd+")),s=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"modal show vh-100 d-block",attrs:{tabindex:"-1",role:"dialog"}},[a("button",{staticClass:"modal-backdrop border-0 bg-transparent-dark cursor-default",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("close")}}}),t._v(" "),a("div",{ref:"modal",staticClass:"modal-dialog",class:{"modal-lg":t.large,"modal-md":t.medium},staticStyle:{"z-index":"1060"},attrs:{role:"document"}},[t._t("default")],2)])])}),[],!1,null,"65ec0403",null);e.a=s.exports},mBzz:function(t,e,a){"use strict";var n=a("P1tU"),r={name:"TokensField",props:{selections:{required:!1,type:Array},url:{required:!1,type:String},id:{required:!1,type:String},options:{required:!1,type:Array},value:{required:!1,type:Array},tags:{required:!1,type:Boolean,default:!1},disabled:{required:!1,type:Boolean,default:!1},placeholder:{required:!1,type:String,default:"Search..."}},components:{Select2:n.a},mounted:function(){this.selections&&(this.defaults=this.selections.map((function(t){return{id:t.id,text:t.name}})),this.selects=this.selections.map((function(t){return t.id})))},data:function(){return{defaults:[],selects:[]}},computed:{ajax:function(){return this.url?{url:this.url,data:function(t){return{search:t.term,page:t.page||1,selections:this.selections?this.selections.map((function(t){return t.id})):null}},processResults:function(t,e){return e.page=e.page||1,{results:t.data.map((function(t){return{id:t.id,text:t.name}})),pagination:{more:t.current_page<t.last_page}}}}:null},settings:function(){return{multiple:"true",tags:this.tags,theme:"bootstrap4",ajax:this.url?this.ajax:null}}},watch:{value:function(){this.selects=this.value}},methods:{onChange:function(t){this.$emit("input",t)}}},s=(a("MDqS"),a("KHd+")),o=Object(s.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{id:t.id+"_select",placeholder:t.placeholder,options:t.selections?t.defaults:t.options,disabled:t.disabled,settings:t.settings},on:{change:function(e){return t.onChange(e)}},model:{value:t.selects,callback:function(e){t.selects=e},expression:"selects"}})],1)])}),[],!1,null,"77916c42",null);e.a=o.exports},mKMH:function(t,e,a){var n=a("J17W");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},"mS+z":function(t,e,a){"use strict";var n={name:"ModalFooter"},r=a("KHd+"),s=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"modal-footer justify-content-start border-top-0 bg-light"},[this._t("default")],2)}),[],!1,null,"2efdf4a2",null);e.a=s.exports},mXro:function(t,e,a){"use strict";var n=a("cv7c"),r={name:"Dropdown",components:{InlineSpinner:a("TTxJ").a,Icon:n.a},props:{options:{required:!0,type:Array},value:{required:!1,default:null},placeholder:{required:!1,type:String,default:"Select"},emptyMessage:{required:!1,type:String,default:"No results found. Try adjusting your search terms."},endMessage:{required:!1,type:String,default:""},disabled:{required:!1,type:Boolean,default:!1},autocomplete:{required:!1,type:Boolean,default:!1},loading:{required:!1,type:Boolean,default:!1},error:{required:!1,type:Boolean,default:!1},maxWidth:{required:!1,type:Number,default:230},btnClass:{required:!1,type:String,default:"btn-select"},total:{required:!1,type:Number,default:0},lengthToSearch:{required:!1,type:Number,default:0},searchMessage:{required:!1,type:String,default:""}},data:function(){return{index:null}},computed:{selected:function(){return null===this.index||0===this.options.length?this.placeholder:this.options[this.index]?this.options[this.index].label:this.placeholder}},mounted:function(){this.setIndex()},watch:{options:{handler:function(){this.setIndex()},deep:!0},value:function(){this.setIndex()}},methods:{setIndex:function(){if(null!==this.value)for(var t=this.options,e=0;e<t.length;e++)if(this.value===t[e].value)return void(this.index=e)},select:function(t,e){this.$emit("input",t.value),this.index=e},focus:function(){var t=this;this.autocomplete&&setTimeout((function(){t.$refs.search.focus(),t.$refs.search.select()}),100)},clear:function(){this.$emit("input",null),this.index=null},down:function(){var t=$(this.$refs.menu).find(".dropdown-item").first();t.length&&t.focus()},up:function(t){this.autocomplete&&0===t&&this.focus()}}},s=a("KHd+"),o=Object(s.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown autocomplete"},[a("button",{ref:"btn",staticClass:"font-weight-normal",class:["btn","d-flex",t.btnClass,{"btn-placeholder-effect":null===t.value,"btn-select-active":null!==t.value,"border-danger":t.error}],attrs:{"data-toggle":"dropdown","data-boundary":"window",disabled:t.disabled,"data-flip":"false"},on:{click:function(e){return t.focus()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.focus()}}},[a("span",{staticClass:"text-case-normal"},[t._v("\n      "+t._s(t.selected)+"\n    ")]),t._v(" "),t.loading?a("inline-spinner",{staticClass:"ml-auto text-primary"}):a("icon",{staticClass:"ml-auto btn-dropdown-icon",attrs:{name:"caret-down"}})],1),t._v(" "),a("div",{ref:"menu",staticClass:"dropdown-menu w-100",style:"max-width: "+t.maxWidth+"px;"},[t.autocomplete?a("div",{staticClass:"pb-2 px-3"},[a("input",{ref:"search",staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:"Search...",title:"Search"},on:{keyup:function(e){return t.$emit("search",e.target.value)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.down()},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.options.length>0&&t.select(t.options[0],0)}]}})]):t._e(),t._v(" "),t._t("header"),t._v(" "),t._l(t.options,(function(e,n){return a("a",{class:["dropdown-item",{active:e.value===t.value}],attrs:{href:"#"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.up(n)},click:function(a){return a.preventDefault(),t.select(e,n)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])})),t._v(" "),t._t("default"),t._v(" "),0===t.options.length&&t.value<t.lengthToSearch&&t.searchMessage?a("p",{staticClass:"text-center text-muted p-2 mb-0"},[t._v("\n      "+t._s(t.searchMessage)+"\n    ")]):t.options.length<t.total?a("p",{staticClass:"text-muted text-center p-2 mb-0"},[t._v("\n      "+t._s("Showing "+t.options.length+" of "+t.total+". Please search to see more")+"\n    ")]):0===t.options.length&&t.emptyMessage.length?a("p",{staticClass:"text-center text-muted p-2 mb-0"},[t._v(t._s(t.emptyMessage))]):t.endMessage.length?a("p",{staticClass:"text-center text-muted p-2 mb-0"},[a("small",[t._v(t._s(t.endMessage))])]):t._e(),t._v(" "),t._t("footer")],2)])}),[],!1,null,"e075cf5c",null);e.a=o.exports},vQtE:function(t,e,a){"use strict";var n={name:"ModalTitle"},r=a("KHd+"),s=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("h3",{staticClass:"modal-title m-0"},[this._t("default")],2)}),[],!1,null,"1e97cd5f",null);e.a=s.exports},wXy6:function(t,e,a){"use strict";var n={name:"ModalHeader"},r=a("KHd+"),s=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"modal-header position-relative"},[this._t("default")],2)}),[],!1,null,"2075d2dc",null);e.a=s.exports},xpc6:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".height-auto[data-v-77916c42]{height:auto!important}",""])},yoRh:function(t,e,a){"use strict";var n={name:"Close",components:{Icon:a("cv7c").a}},r=(a("KBkZ"),a("KHd+")),s=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-close btn-sm ml-auto text-muted position-absolute close",attrs:{type:"button"},on:{click:function(e){return t.$emit("click",e)}}},[a("icon",{attrs:{name:"close"}})],1)}),[],!1,null,"7a28cdfc",null);e.a=s.exports}}]);
//# sourceMappingURL=statistics.js.map?id=64a109779442d87c1a23